/*!
 * elmah.io Javascript Logger - version 3.0.0-beta3
 * (c) 2018 elmah.io, Apache 2.0 License, https://elmah.io
 */
!function (e, n) { "function" == typeof define && define.amd ? define([], function () { return n(e) }) : "object" == typeof exports ? module.exports = n(e) : e.Elmahio = n(e) }("undefined" != typeof global ? global : "undefined" != typeof window ? window : this, function (e) { "use strict"; var n, t, r, o = function () { function e(e) { return !isNaN(parseFloat(e)) && isFinite(e) } function n(e) { return e.charAt(0).toUpperCase() + e.substring(1) } function t(e) { return function () { return this[e] } } var r = ["isConstructor", "isEval", "isNative", "isToplevel"], o = ["columnNumber", "lineNumber"], i = ["fileName", "functionName", "source"], a = r.concat(o, i, ["args"]); function s(e) { if (e instanceof Object) for (var t = 0; t < a.length; t++)e.hasOwnProperty(a[t]) && void 0 !== e[a[t]] && this["set" + n(a[t])](e[a[t]]) } s.prototype = { getArgs: function () { return this.args }, setArgs: function (e) { if ("[object Array]" !== Object.prototype.toString.call(e)) throw new TypeError("Args must be an Array"); this.args = e }, getEvalOrigin: function () { return this.evalOrigin }, setEvalOrigin: function (e) { if (e instanceof s) this.evalOrigin = e; else { if (!(e instanceof Object)) throw new TypeError("Eval Origin must be an Object or StackFrame"); this.evalOrigin = new s(e) } }, toString: function () { return (this.getFunctionName() || "{anonymous}") + ("(" + (this.getArgs() || []).join(",") + ")") + (this.getFileName() ? "@" + this.getFileName() : "") + (e(this.getLineNumber()) ? ":" + this.getLineNumber() : "") + (e(this.getColumnNumber()) ? ":" + this.getColumnNumber() : "") } }, s.fromString = function (e) { var n = e.indexOf("("), t = e.lastIndexOf(")"), r = e.substring(0, n), o = e.substring(n + 1, t).split(","), i = e.substring(t + 1); if (0 === i.indexOf("@")) var a = /@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(i, ""), u = a[1], l = a[2], c = a[3]; return new s({ functionName: r, args: o || void 0, fileName: u, lineNumber: l || void 0, columnNumber: c || void 0 }) }; for (var u = 0; u < r.length; u++)s.prototype["get" + n(r[u])] = t(r[u]), s.prototype["set" + n(r[u])] = function (e) { return function (n) { this[e] = Boolean(n) } }(r[u]); for (var l = 0; l < o.length; l++)s.prototype["get" + n(o[l])] = t(o[l]), s.prototype["set" + n(o[l])] = function (n) { return function (t) { if (!e(t)) throw new TypeError(n + " must be a Number"); this[n] = Number(t) } }(o[l]); for (var c = 0; c < i.length; c++)s.prototype["get" + n(i[c])] = t(i[c]), s.prototype["set" + n(i[c])] = function (e) { return function (n) { this[e] = String(n) } }(i[c]); return s }(), i = (n = /(^|@)\S+\:\d+/, t = /^\s*at .*(\S+\:\d+|\(native\))/m, r = /^(eval@)?(\[native code\])?$/, { parse: function (e) { if (void 0 !== e.stacktrace || void 0 !== e["opera#sourceloc"]) return this.parseOpera(e); if (e.stack && e.stack.match(t)) return this.parseV8OrIE(e); if (e.stack) return this.parseFFOrSafari(e); throw new Error("Cannot parse given Error object") }, extractLocation: function (e) { if (-1 === e.indexOf(":")) return [e]; var n = /(.+?)(?:\:(\d+))?(?:\:(\d+))?$/.exec(e.replace(/[\(\)]/g, "")); return [n[1], n[2] || void 0, n[3] || void 0] }, parseV8OrIE: function (e) { return e.stack.split("\n").filter(function (e) { return !!e.match(t) }, this).map(function (e) { e.indexOf("(eval ") > -1 && (e = e.replace(/eval code/g, "eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g, "")); var n = e.replace(/^\s+/, "").replace(/\(eval code/g, "(").split(/\s+/).slice(1), t = this.extractLocation(n.pop()), r = n.join(" ") || void 0, i = ["eval", "<anonymous>"].indexOf(t[0]) > -1 ? void 0 : t[0]; return new o({ functionName: r, fileName: i, lineNumber: t[1], columnNumber: t[2], source: e }) }, this) }, parseFFOrSafari: function (e) { return e.stack.split("\n").filter(function (e) { return !e.match(r) }, this).map(function (e) { if (e.indexOf(" > eval") > -1 && (e = e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g, ":$1")), -1 === e.indexOf("@") && -1 === e.indexOf(":")) return new o({ functionName: e }); var n = /((.*".+"[^@]*)?[^@]*)(?:@)/, t = e.match(n), r = t && t[1] ? t[1] : void 0, i = this.extractLocation(e.replace(n, "")); return new o({ functionName: r, fileName: i[0], lineNumber: i[1], columnNumber: i[2], source: e }) }, this) }, parseOpera: function (e) { return !e.stacktrace || e.message.indexOf("\n") > -1 && e.message.split("\n").length > e.stacktrace.split("\n").length ? this.parseOpera9(e) : e.stack ? this.parseOpera11(e) : this.parseOpera10(e) }, parseOpera9: function (e) { for (var n = /Line (\d+).*script (?:in )?(\S+)/i, t = e.message.split("\n"), r = [], i = 2, a = t.length; i < a; i += 2) { var s = n.exec(t[i]); s && r.push(new o({ fileName: s[2], lineNumber: s[1], source: t[i] })) } return r }, parseOpera10: function (e) { for (var n = /Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i, t = e.stacktrace.split("\n"), r = [], i = 0, a = t.length; i < a; i += 2) { var s = n.exec(t[i]); s && r.push(new o({ functionName: s[3] || void 0, fileName: s[2], lineNumber: s[1], source: t[i] })) } return r }, parseOpera11: function (e) { return e.stack.split("\n").filter(function (e) { return !!e.match(n) && !e.match(/^Error created at/) }, this).map(function (e) { var n, t = e.split("@"), r = this.extractLocation(t.pop()), i = t.shift() || "", a = i.replace(/<anonymous function(: (\w+))?>/, "$2").replace(/\([^\)]*\)/g, "") || void 0; i.match(/\(([^\)]*)\)/) && (n = i.replace(/^[^\(]+\(([^\)]*)\)$/, "$1")); var s = void 0 === n || "[arguments not available]" === n ? void 0 : n.split(","); return new o({ functionName: a, args: s, fileName: r[0], lineNumber: r[1], columnNumber: r[2], source: e }) }, this) } }), a = function (n, t) { function r(e) { return new Promise(function (n, t) { var r = new XMLHttpRequest; r.open("get", e), r.onerror = t, r.onreadystatechange = function () { 4 === r.readyState && (r.status >= 200 && r.status < 300 || "file://" === e.substr(0, 7) && r.responseText ? n(r.responseText) : t(new Error("HTTP status: " + r.status + " retrieving " + e))) }, r.send() }) } function o(n) { if (void 0 !== e && e.atob) return e.atob(n); throw new Error("You must supply a polyfill for window.atob in this environment") } function i(e) { if ("object" != typeof e) throw new TypeError("Given StackFrame is not an object"); if ("string" != typeof e.fileName) throw new TypeError("Given file name is not a String"); if ("number" != typeof e.lineNumber || e.lineNumber % 1 != 0 || e.lineNumber < 1) throw new TypeError("Given line number must be a positive integer"); if ("number" != typeof e.columnNumber || e.columnNumber % 1 != 0 || e.columnNumber < 0) throw new TypeError("Given column number must be a non-negative integer"); return !0 } return function e(a) { if (!(this instanceof e)) return new e(a); a = a || {}, this.sourceCache = a.sourceCache || {}, this.sourceMapConsumerCache = a.sourceMapConsumerCache || {}, this.ajax = a.ajax || r, this._atob = a.atob || o, this._get = function (e) { return new Promise(function (n, t) { var r = "data:" === e.substr(0, 5); if (this.sourceCache[e]) n(this.sourceCache[e]); else if (a.offline && !r) t(new Error("Cannot make network requests in offline mode")); else if (r) { var o = e.match(/^data:application\/json;([\w=:"-]+;)*base64,/); if (o) { var i = o[0].length, s = e.substr(i), u = this._atob(s); this.sourceCache[e] = u, n(u) } else t(new Error("The encoding of the inline sourcemap is not supported")) } else { var l = this.ajax(e, { method: "get" }); this.sourceCache[e] = l, l.then(n, t) } }.bind(this)) }, this._getSourceMapConsumer = function (e, t) { return new Promise(function (r, o) { if (this.sourceMapConsumerCache[e]) r(this.sourceMapConsumerCache[e]); else { var i = new Promise(function (r, o) { return this._get(e).then(function (e) { "string" == typeof e && (e = function (e) { if ("undefined" != typeof JSON && JSON.parse) return JSON.parse(e); throw new Error("You must supply a polyfill for JSON.parse in this environment") }(e.replace(/^\)\]\}'/, ""))), void 0 === e.sourceRoot && (e.sourceRoot = t), r(new n.SourceMapConsumer(e)) }, o) }.bind(this)); this.sourceMapConsumerCache[e] = i, r(i) } }.bind(this)) }, this.pinpoint = function (e) { return new Promise(function (n, t) { this.getMappedLocation(e).then(function (e) { function t() { n(e) } this.findFunctionName(e).then(n, t).catch(t) }.bind(this), t) }.bind(this)) }, this.findFunctionName = function (e) { return new Promise(function (n, r) { i(e), this._get(e.fileName).then(function (r) { var o = e.lineNumber, i = e.columnNumber, a = function (e, n) { for (var t = [/['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*function\b/, /function\s+([^('"`]*?)\s*\(([^)]*)\)/, /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*(?:eval|new Function)\b/, /\b(?!(?:if|for|switch|while|with|catch)\b)(?:(?:static)\s+)?(\S+)\s*\(.*?\)\s*\{/, /['"]?([$_A-Za-z][$_A-Za-z0-9]*)['"]?\s*[:=]\s*\(.*?\)\s*=>/], r = e.split("\n"), o = "", i = Math.min(n, 20), a = 0; a < i; ++a) { var s = r[n - a - 1], u = s.indexOf("//"); if (u >= 0 && (s = s.substr(0, u)), s) { o = s + o; for (var l = t.length, c = 0; c < l; c++) { var g = t[c].exec(o); if (g && g[1]) return g[1] } } } }(r, o); n(a ? new t({ functionName: a, args: e.args, fileName: e.fileName, lineNumber: o, columnNumber: i }) : e) }, r).catch(r) }.bind(this)) }, this.getMappedLocation = function (e) { return new Promise(function (n, r) { !function () { if ("function" != typeof Object.defineProperty || "function" != typeof Object.create) throw new Error("Unable to consume source maps in older browsers") }(), i(e); var o = this.sourceCache, a = e.fileName; this._get(a).then(function (r) { var i = function (e) { for (var n, t, r = /\/\/[#@] ?sourceMappingURL=([^\s'"]+)\s*$/gm; t = r.exec(e);)n = t[1]; if (n) return n; throw new Error("sourceMappingURL not found") }(r), s = "data:" === i.substr(0, 5), u = a.substring(0, a.lastIndexOf("/") + 1); return "/" === i[0] || s || /^https?:\/\/|^\/\//i.test(i) || (i = u + i), this._getSourceMapConsumer(i, u).then(function (r) { return function (e, n, r) { return new Promise(function (o, i) { var a = n.originalPositionFor({ line: e.lineNumber, column: e.columnNumber }); if (a.source) { var s = n.sourceContentFor(a.source); s && (r[a.source] = s), o(new t({ functionName: a.name || e.functionName, args: e.args, fileName: a.source, lineNumber: a.line, columnNumber: a.column })) } else i(new Error("Could not get original source for given stackframe and source map")) }) }(e, r, o).then(n).catch(function () { n(e) }) }) }.bind(this), r).catch(r) }.bind(this)) } } }(function (e) { var n = {}; function t(r) { if (n[r]) return n[r].exports; var o = n[r] = { exports: {}, id: r, loaded: !1 }; return e[r].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports } return t.m = e, t.c = n, t.p = "", t(0) }([function (e, n, t) { var r = t(1), o = t(2), i = t(3).ArraySet, a = t(4), s = t(6).quickSort; function u(e) { var n = e; return "string" == typeof e && (n = JSON.parse(e.replace(/^\)\]\}'/, ""))), null != n.sections ? new g(n) : new l(n) } function l(e) { var n = e; "string" == typeof e && (n = JSON.parse(e.replace(/^\)\]\}'/, ""))); var t = r.getArg(n, "version"), o = r.getArg(n, "sources"), a = r.getArg(n, "names", []), s = r.getArg(n, "sourceRoot", null), u = r.getArg(n, "sourcesContent", null), l = r.getArg(n, "mappings"), c = r.getArg(n, "file", null); if (t != this._version) throw new Error("Unsupported version: " + t); o = o.map(String).map(r.normalize).map(function (e) { return s && r.isAbsolute(s) && r.isAbsolute(e) ? r.relative(s, e) : e }), this._names = i.fromArray(a.map(String), !0), this._sources = i.fromArray(o, !0), this.sourceRoot = s, this.sourcesContent = u, this._mappings = l, this.file = c } function c() { this.generatedLine = 0, this.generatedColumn = 0, this.source = null, this.originalLine = null, this.originalColumn = null, this.name = null } function g(e) { var n = e; "string" == typeof e && (n = JSON.parse(e.replace(/^\)\]\}'/, ""))); var t = r.getArg(n, "version"), o = r.getArg(n, "sections"); if (t != this._version) throw new Error("Unsupported version: " + t); this._sources = new i, this._names = new i; var a = { line: -1, column: 0 }; this._sections = o.map(function (e) { if (e.url) throw new Error("Support for url field in sections not implemented."); var n = r.getArg(e, "offset"), t = r.getArg(n, "line"), o = r.getArg(n, "column"); if (t < a.line || t === a.line && o < a.column) throw new Error("Section offsets must be ordered and non-overlapping."); return a = n, { generatedOffset: { generatedLine: t + 1, generatedColumn: o + 1 }, consumer: new u(r.getArg(e, "map")) } }) } u.fromSourceMap = function (e) { return l.fromSourceMap(e) }, u.prototype._version = 3, u.prototype.__generatedMappings = null, Object.defineProperty(u.prototype, "_generatedMappings", { get: function () { return this.__generatedMappings || this._parseMappings(this._mappings, this.sourceRoot), this.__generatedMappings } }), u.prototype.__originalMappings = null, Object.defineProperty(u.prototype, "_originalMappings", { get: function () { return this.__originalMappings || this._parseMappings(this._mappings, this.sourceRoot), this.__originalMappings } }), u.prototype._charIsMappingSeparator = function (e, n) { var t = e.charAt(n); return ";" === t || "," === t }, u.prototype._parseMappings = function (e, n) { throw new Error("Subclasses must implement _parseMappings") }, u.GENERATED_ORDER = 1, u.ORIGINAL_ORDER = 2, u.GREATEST_LOWER_BOUND = 1, u.LEAST_UPPER_BOUND = 2, u.prototype.eachMapping = function (e, n, t) { var o, i = n || null; switch (t || u.GENERATED_ORDER) { case u.GENERATED_ORDER: o = this._generatedMappings; break; case u.ORIGINAL_ORDER: o = this._originalMappings; break; default: throw new Error("Unknown order of iteration.") }var a = this.sourceRoot; o.map(function (e) { var n = null === e.source ? null : this._sources.at(e.source); return null != n && null != a && (n = r.join(a, n)), { source: n, generatedLine: e.generatedLine, generatedColumn: e.generatedColumn, originalLine: e.originalLine, originalColumn: e.originalColumn, name: null === e.name ? null : this._names.at(e.name) } }, this).forEach(e, i) }, u.prototype.allGeneratedPositionsFor = function (e) { var n = r.getArg(e, "line"), t = { source: r.getArg(e, "source"), originalLine: n, originalColumn: r.getArg(e, "column", 0) }; if (null != this.sourceRoot && (t.source = r.relative(this.sourceRoot, t.source)), !this._sources.has(t.source)) return []; t.source = this._sources.indexOf(t.source); var i = [], a = this._findMapping(t, this._originalMappings, "originalLine", "originalColumn", r.compareByOriginalPositions, o.LEAST_UPPER_BOUND); if (a >= 0) { var s = this._originalMappings[a]; if (void 0 === e.column) for (var u = s.originalLine; s && s.originalLine === u;)i.push({ line: r.getArg(s, "generatedLine", null), column: r.getArg(s, "generatedColumn", null), lastColumn: r.getArg(s, "lastGeneratedColumn", null) }), s = this._originalMappings[++a]; else for (var l = s.originalColumn; s && s.originalLine === n && s.originalColumn == l;)i.push({ line: r.getArg(s, "generatedLine", null), column: r.getArg(s, "generatedColumn", null), lastColumn: r.getArg(s, "lastGeneratedColumn", null) }), s = this._originalMappings[++a] } return i }, n.SourceMapConsumer = u, l.prototype = Object.create(u.prototype), l.prototype.consumer = u, l.fromSourceMap = function (e) { var n = Object.create(l.prototype), t = n._names = i.fromArray(e._names.toArray(), !0), o = n._sources = i.fromArray(e._sources.toArray(), !0); n.sourceRoot = e._sourceRoot, n.sourcesContent = e._generateSourcesContent(n._sources.toArray(), n.sourceRoot), n.file = e._file; for (var a = e._mappings.toArray().slice(), u = n.__generatedMappings = [], g = n.__originalMappings = [], p = 0, f = a.length; p < f; p++) { var h = a[p], m = new c; m.generatedLine = h.generatedLine, m.generatedColumn = h.generatedColumn, h.source && (m.source = o.indexOf(h.source), m.originalLine = h.originalLine, m.originalColumn = h.originalColumn, h.name && (m.name = t.indexOf(h.name)), g.push(m)), u.push(m) } return s(n.__originalMappings, r.compareByOriginalPositions), n }, l.prototype._version = 3, Object.defineProperty(l.prototype, "sources", { get: function () { return this._sources.toArray().map(function (e) { return null != this.sourceRoot ? r.join(this.sourceRoot, e) : e }, this) } }), l.prototype._parseMappings = function (e, n) { for (var t, o, i, u, l, g = 1, p = 0, f = 0, h = 0, m = 0, d = 0, v = e.length, y = 0, _ = {}, b = {}, O = [], w = []; y < v;)if (";" === e.charAt(y)) g++ , y++ , p = 0; else if ("," === e.charAt(y)) y++; else { for ((t = new c).generatedLine = g, u = y; u < v && !this._charIsMappingSeparator(e, u); u++); if (i = _[o = e.slice(y, u)]) y += o.length; else { for (i = []; y < u;)a.decode(e, y, b), l = b.value, y = b.rest, i.push(l); if (2 === i.length) throw new Error("Found a source, but no line and column"); if (3 === i.length) throw new Error("Found a source and line, but no column"); _[o] = i } t.generatedColumn = p + i[0], p = t.generatedColumn, i.length > 1 && (t.source = m + i[1], m += i[1], t.originalLine = f + i[2], f = t.originalLine, t.originalLine += 1, t.originalColumn = h + i[3], h = t.originalColumn, i.length > 4 && (t.name = d + i[4], d += i[4])), w.push(t), "number" == typeof t.originalLine && O.push(t) } s(w, r.compareByGeneratedPositionsDeflated), this.__generatedMappings = w, s(O, r.compareByOriginalPositions), this.__originalMappings = O }, l.prototype._findMapping = function (e, n, t, r, i, a) { if (e[t] <= 0) throw new TypeError("Line must be greater than or equal to 1, got " + e[t]); if (e[r] < 0) throw new TypeError("Column must be greater than or equal to 0, got " + e[r]); return o.search(e, n, i, a) }, l.prototype.computeColumnSpans = function () { for (var e = 0; e < this._generatedMappings.length; ++e) { var n = this._generatedMappings[e]; if (e + 1 < this._generatedMappings.length) { var t = this._generatedMappings[e + 1]; if (n.generatedLine === t.generatedLine) { n.lastGeneratedColumn = t.generatedColumn - 1; continue } } n.lastGeneratedColumn = 1 / 0 } }, l.prototype.originalPositionFor = function (e) { var n = { generatedLine: r.getArg(e, "line"), generatedColumn: r.getArg(e, "column") }, t = this._findMapping(n, this._generatedMappings, "generatedLine", "generatedColumn", r.compareByGeneratedPositionsDeflated, r.getArg(e, "bias", u.GREATEST_LOWER_BOUND)); if (t >= 0) { var o = this._generatedMappings[t]; if (o.generatedLine === n.generatedLine) { var i = r.getArg(o, "source", null); null !== i && (i = this._sources.at(i), null != this.sourceRoot && (i = r.join(this.sourceRoot, i))); var a = r.getArg(o, "name", null); return null !== a && (a = this._names.at(a)), { source: i, line: r.getArg(o, "originalLine", null), column: r.getArg(o, "originalColumn", null), name: a } } } return { source: null, line: null, column: null, name: null } }, l.prototype.hasContentsOfAllSources = function () { return !!this.sourcesContent && this.sourcesContent.length >= this._sources.size() && !this.sourcesContent.some(function (e) { return null == e }) }, l.prototype.sourceContentFor = function (e, n) { if (!this.sourcesContent) return null; if (null != this.sourceRoot && (e = r.relative(this.sourceRoot, e)), this._sources.has(e)) return this.sourcesContent[this._sources.indexOf(e)]; var t; if (null != this.sourceRoot && (t = r.urlParse(this.sourceRoot))) { var o = e.replace(/^file:\/\//, ""); if ("file" == t.scheme && this._sources.has(o)) return this.sourcesContent[this._sources.indexOf(o)]; if ((!t.path || "/" == t.path) && this._sources.has("/" + e)) return this.sourcesContent[this._sources.indexOf("/" + e)] } if (n) return null; throw new Error('"' + e + '" is not in the SourceMap.') }, l.prototype.generatedPositionFor = function (e) { var n = r.getArg(e, "source"); if (null != this.sourceRoot && (n = r.relative(this.sourceRoot, n)), !this._sources.has(n)) return { line: null, column: null, lastColumn: null }; var t = { source: n = this._sources.indexOf(n), originalLine: r.getArg(e, "line"), originalColumn: r.getArg(e, "column") }, o = this._findMapping(t, this._originalMappings, "originalLine", "originalColumn", r.compareByOriginalPositions, r.getArg(e, "bias", u.GREATEST_LOWER_BOUND)); if (o >= 0) { var i = this._originalMappings[o]; if (i.source === t.source) return { line: r.getArg(i, "generatedLine", null), column: r.getArg(i, "generatedColumn", null), lastColumn: r.getArg(i, "lastGeneratedColumn", null) } } return { line: null, column: null, lastColumn: null } }, n.BasicSourceMapConsumer = l, g.prototype = Object.create(u.prototype), g.prototype.constructor = u, g.prototype._version = 3, Object.defineProperty(g.prototype, "sources", { get: function () { for (var e = [], n = 0; n < this._sections.length; n++)for (var t = 0; t < this._sections[n].consumer.sources.length; t++)e.push(this._sections[n].consumer.sources[t]); return e } }), g.prototype.originalPositionFor = function (e) { var n = { generatedLine: r.getArg(e, "line"), generatedColumn: r.getArg(e, "column") }, t = o.search(n, this._sections, function (e, n) { return e.generatedLine - n.generatedOffset.generatedLine || e.generatedColumn - n.generatedOffset.generatedColumn }), i = this._sections[t]; return i ? i.consumer.originalPositionFor({ line: n.generatedLine - (i.generatedOffset.generatedLine - 1), column: n.generatedColumn - (i.generatedOffset.generatedLine === n.generatedLine ? i.generatedOffset.generatedColumn - 1 : 0), bias: e.bias }) : { source: null, line: null, column: null, name: null } }, g.prototype.hasContentsOfAllSources = function () { return this._sections.every(function (e) { return e.consumer.hasContentsOfAllSources() }) }, g.prototype.sourceContentFor = function (e, n) { for (var t = 0; t < this._sections.length; t++) { var r = this._sections[t].consumer.sourceContentFor(e, !0); if (r) return r } if (n) return null; throw new Error('"' + e + '" is not in the SourceMap.') }, g.prototype.generatedPositionFor = function (e) { for (var n = 0; n < this._sections.length; n++) { var t = this._sections[n]; if (-1 !== t.consumer.sources.indexOf(r.getArg(e, "source"))) { var o = t.consumer.generatedPositionFor(e); if (o) return { line: o.line + (t.generatedOffset.generatedLine - 1), column: o.column + (t.generatedOffset.generatedLine === o.line ? t.generatedOffset.generatedColumn - 1 : 0) } } } return { line: null, column: null } }, g.prototype._parseMappings = function (e, n) { this.__generatedMappings = [], this.__originalMappings = []; for (var t = 0; t < this._sections.length; t++)for (var o = this._sections[t], i = o.consumer._generatedMappings, a = 0; a < i.length; a++) { var u = i[a], l = o.consumer._sources.at(u.source); null !== o.consumer.sourceRoot && (l = r.join(o.consumer.sourceRoot, l)), this._sources.add(l), l = this._sources.indexOf(l); var c = o.consumer._names.at(u.name); this._names.add(c), c = this._names.indexOf(c); var g = { source: l, generatedLine: u.generatedLine + (o.generatedOffset.generatedLine - 1), generatedColumn: u.generatedColumn + (o.generatedOffset.generatedLine === u.generatedLine ? o.generatedOffset.generatedColumn - 1 : 0), originalLine: u.originalLine, originalColumn: u.originalColumn, name: c }; this.__generatedMappings.push(g), "number" == typeof g.originalLine && this.__originalMappings.push(g) } s(this.__generatedMappings, r.compareByGeneratedPositionsDeflated), s(this.__originalMappings, r.compareByOriginalPositions) }, n.IndexedSourceMapConsumer = g }, function (e, n) { n.getArg = function (e, n, t) { if (n in e) return e[n]; if (3 === arguments.length) return t; throw new Error('"' + n + '" is a required argument.') }; var t = /^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.]*)(?::(\d+))?(\S*)$/, r = /^data:.+\,.+$/; function o(e) { var n = e.match(t); return n ? { scheme: n[1], auth: n[2], host: n[3], port: n[4], path: n[5] } : null } function i(e) { var n = ""; return e.scheme && (n += e.scheme + ":"), n += "//", e.auth && (n += e.auth + "@"), e.host && (n += e.host), e.port && (n += ":" + e.port), e.path && (n += e.path), n } function a(e) { var t = e, r = o(e); if (r) { if (!r.path) return e; t = r.path } for (var a, s = n.isAbsolute(t), u = t.split(/\/+/), l = 0, c = u.length - 1; c >= 0; c--)"." === (a = u[c]) ? u.splice(c, 1) : ".." === a ? l++ : l > 0 && ("" === a ? (u.splice(c + 1, l), l = 0) : (u.splice(c, 2), l--)); return "" === (t = u.join("/")) && (t = s ? "/" : "."), r ? (r.path = t, i(r)) : t } n.urlParse = o, n.urlGenerate = i, n.normalize = a, n.join = function (e, n) { "" === e && (e = "."), "" === n && (n = "."); var t = o(n), s = o(e); if (s && (e = s.path || "/"), t && !t.scheme) return s && (t.scheme = s.scheme), i(t); if (t || n.match(r)) return n; if (s && !s.host && !s.path) return s.host = n, i(s); var u = "/" === n.charAt(0) ? n : a(e.replace(/\/+$/, "") + "/" + n); return s ? (s.path = u, i(s)) : u }, n.isAbsolute = function (e) { return "/" === e.charAt(0) || !!e.match(t) }, n.relative = function (e, n) { "" === e && (e = "."), e = e.replace(/\/$/, ""); for (var t = 0; 0 !== n.indexOf(e + "/");) { var r = e.lastIndexOf("/"); if (r < 0) return n; if ((e = e.slice(0, r)).match(/^([^\/]+:\/)?\/*$/)) return n; ++t } return Array(t + 1).join("../") + n.substr(e.length + 1) }; var s = !("__proto__" in Object.create(null)); function u(e) { return e } function l(e) { if (!e) return !1; var n = e.length; if (n < 9) return !1; if (95 !== e.charCodeAt(n - 1) || 95 !== e.charCodeAt(n - 2) || 111 !== e.charCodeAt(n - 3) || 116 !== e.charCodeAt(n - 4) || 111 !== e.charCodeAt(n - 5) || 114 !== e.charCodeAt(n - 6) || 112 !== e.charCodeAt(n - 7) || 95 !== e.charCodeAt(n - 8) || 95 !== e.charCodeAt(n - 9)) return !1; for (var t = n - 10; t >= 0; t--)if (36 !== e.charCodeAt(t)) return !1; return !0 } function c(e, n) { return e === n ? 0 : e > n ? 1 : -1 } n.toSetString = s ? u : function (e) { return l(e) ? "$" + e : e }, n.fromSetString = s ? u : function (e) { return l(e) ? e.slice(1) : e }, n.compareByOriginalPositions = function (e, n, t) { var r = e.source - n.source; return 0 !== r ? r : 0 != (r = e.originalLine - n.originalLine) ? r : 0 != (r = e.originalColumn - n.originalColumn) || t ? r : 0 != (r = e.generatedColumn - n.generatedColumn) ? r : 0 != (r = e.generatedLine - n.generatedLine) ? r : e.name - n.name }, n.compareByGeneratedPositionsDeflated = function (e, n, t) { var r = e.generatedLine - n.generatedLine; return 0 !== r ? r : 0 != (r = e.generatedColumn - n.generatedColumn) || t ? r : 0 != (r = e.source - n.source) ? r : 0 != (r = e.originalLine - n.originalLine) ? r : 0 != (r = e.originalColumn - n.originalColumn) ? r : e.name - n.name }, n.compareByGeneratedPositionsInflated = function (e, n) { var t = e.generatedLine - n.generatedLine; return 0 !== t ? t : 0 != (t = e.generatedColumn - n.generatedColumn) ? t : 0 !== (t = c(e.source, n.source)) ? t : 0 != (t = e.originalLine - n.originalLine) ? t : 0 != (t = e.originalColumn - n.originalColumn) ? t : c(e.name, n.name) } }, function (e, n) { n.GREATEST_LOWER_BOUND = 1, n.LEAST_UPPER_BOUND = 2, n.search = function (e, t, r, o) { if (0 === t.length) return -1; var i = function e(t, r, o, i, a, s) { var u = Math.floor((r - t) / 2) + t, l = a(o, i[u], !0); return 0 === l ? u : l > 0 ? r - u > 1 ? e(u, r, o, i, a, s) : s == n.LEAST_UPPER_BOUND ? r < i.length ? r : -1 : u : u - t > 1 ? e(t, u, o, i, a, s) : s == n.LEAST_UPPER_BOUND ? u : t < 0 ? -1 : t }(-1, t.length, e, t, r, o || n.GREATEST_LOWER_BOUND); if (i < 0) return -1; for (; i - 1 >= 0 && 0 === r(t[i], t[i - 1], !0);)--i; return i } }, function (e, n, t) { var r = t(1), o = Object.prototype.hasOwnProperty; function i() { this._array = [], this._set = Object.create(null) } i.fromArray = function (e, n) { for (var t = new i, r = 0, o = e.length; r < o; r++)t.add(e[r], n); return t }, i.prototype.size = function () { return Object.getOwnPropertyNames(this._set).length }, i.prototype.add = function (e, n) { var t = r.toSetString(e), i = o.call(this._set, t), a = this._array.length; i && !n || this._array.push(e), i || (this._set[t] = a) }, i.prototype.has = function (e) { var n = r.toSetString(e); return o.call(this._set, n) }, i.prototype.indexOf = function (e) { var n = r.toSetString(e); if (o.call(this._set, n)) return this._set[n]; throw new Error('"' + e + '" is not in the set.') }, i.prototype.at = function (e) { if (e >= 0 && e < this._array.length) return this._array[e]; throw new Error("No element indexed by " + e) }, i.prototype.toArray = function () { return this._array.slice() }, n.ArraySet = i }, function (e, n, t) { var r = t(5); n.encode = function (e) { var n, t, o = "", i = (t = e) < 0 ? 1 + (-t << 1) : 0 + (t << 1); do { n = 31 & i, (i >>>= 5) > 0 && (n |= 32), o += r.encode(n) } while (i > 0); return o }, n.decode = function (e, n, t) { var o, i, a, s, u = e.length, l = 0, c = 0; do { if (n >= u) throw new Error("Expected more digits in base 64 VLQ value."); if (-1 === (i = r.decode(e.charCodeAt(n++)))) throw new Error("Invalid base64 digit: " + e.charAt(n - 1)); o = !!(32 & i), l += (i &= 31) << c, c += 5 } while (o); t.value = (s = (a = l) >> 1, 1 == (1 & a) ? -s : s), t.rest = n } }, function (e, n) { var t = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""); n.encode = function (e) { if (0 <= e && e < t.length) return t[e]; throw new TypeError("Must be between 0 and 63: " + e) }, n.decode = function (e) { return 65 <= e && e <= 90 ? e - 65 : 97 <= e && e <= 122 ? e - 97 + 26 : 48 <= e && e <= 57 ? e - 48 + 52 : 43 == e ? 62 : 47 == e ? 63 : -1 } }, function (e, n) { function t(e, n, t) { var r = e[n]; e[n] = e[t], e[t] = r } n.quickSort = function (e, n) { !function e(n, r, o, i) { if (o < i) { var a = o - 1; t(n, (c = o, g = i, Math.round(c + Math.random() * (g - c))), i); for (var s = n[i], u = o; u < i; u++)r(n[u], s) <= 0 && t(n, a += 1, u); t(n, a + 1, u); var l = a + 1; e(n, r, o, l - 1), e(n, r, l + 1, i) } var c, g }(e, n, 0, e.length - 1) } }]), o), s = document.getElementsByTagName("script"), u = function (e) { var n = new Object; if (!e) return n; for (var t = e.split(/[;&]/), r = 0; r < t.length; r++) { var o = t[r].split("="); if (o && 2 === o.length) { var i = unescape(o[0]), a = unescape(o[1]); a = a.replace(/\+/g, " "), n[i] = a } } return n }(s[s.length - 1].src.replace(/^[^\?]+\??/, "")), l = function (e) { var n, t = 0; for (n in e) e.hasOwnProperty(n) && t++; return t }(u), c = { label: " elmah.io debugger : On ", labelCSS: "background: #06a89c; color: #ffffff; display: inline-block; font-size: 14px;", successCSS: "background: #d4edda; color: #155724; display: inline-block; font-size: 13px;", errorCSS: "background: #f8d7da; color: #721c24; display: inline-block; font-size: 13px;", warningCSS: "background: #fff3cd; color: #856404; display: inline-block; font-size: 13px;", lightCSS: "background: #e2e3e5; color: #383d41; display: inline-block; font-size: 13px;" }, g = { apiKey: null, logId: null, debug: !1, application: null, filter: null }, p = function () { var e = {}, n = !1, t = 0; "[object Boolean]" === Object.prototype.toString.call(arguments[0]) && (n = arguments[0], t++); for (var r = function (t) { for (var r in t) t.hasOwnProperty(r) && (n && "[object Object]" === Object.prototype.toString.call(t[r]) ? e[r] = p(e[r], t[r]) : e[r] = t[r]) }; t < arguments.length; t++) { r(arguments[t]) } return e }; function f() { var n = e.location.search.substr(1); return null !== n && "" !== n ? function (e) { for (var n = [], t = e.split("&"), r = 0; r < t.length; r++) { var o = t[r].split("="); n.push({ key: o[0], value: o[1] }) } return n }(n) : {} } function h(e, n) { var t = {}; for (var r in e) t[r] = e[r]; for (var o in n) t[o] = n[o]; return t } var m = function (n) { var t, r = {}; function o() { var n = { url: document.location.pathname || "/", application: t.application }, r = []; navigator.language && r.push({ key: "User-Language", value: navigator.language }), document.documentMode && r.push({ key: "Document-Mode", value: document.documentMode }), (e.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName("body")[0].clientWidth) && r.push({ key: "Browser-Width", value: e.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName("body")[0].clientWidth }), (e.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName("body")[0].clientHeight) && r.push({ key: "Browser-Height", value: e.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName("body")[0].clientHeight }), void 0 !== (screen.msOrientation || (screen.orientation || screen.mozOrientation || {}).type) && r.push({ key: "Screen-Orientation", value: (screen.msOrientation || (screen.orientation || screen.mozOrientation || {}).type).split("-")[0] }), screen.width && r.push({ key: "Screen-Width", value: screen.width }), screen.height && r.push({ key: "Screen-Height", value: screen.height }), screen.colorDepth && r.push({ key: "Color-Depth", value: screen.colorDepth }), r.push({ key: "X-ELMAHIO-SEARCH-isClientside", value: "true" }), n.data = r; var o = []; return navigator.userAgent && o.push({ key: "User-Agent", value: navigator.userAgent }), document.referrer && o.push({ key: "Referer", value: document.referrer }), "https:" === document.location.protocol && o.push({ key: "HTTPS", value: "on" }), document.location.hostname && o.push({ key: "Host", value: document.location.hostname }), n.serverVariables = o, n } function s(e, n) { t.debug && ("error" === e ? console.log("%c ⯈ Error log: %c ✕ Not created ", c.lightCSS, c.errorCSS) : "success" === e ? console.log("%c ⯈ Error log: %c ✔ " + n + " at " + (new Date).toLocaleString() + " ", c.lightCSS, c.successCSS) : console.log("%c ⯈ Error log: %c ✕ Not created. Title should not be undefined, null or empty ! ", c.lightCSS, c.errorCSS)) } function m(e, n, t) { var r = e.toString().split("\n")[0], o = new a; new Promise(function (n) { var t = i.parse(e); n(Promise.all(t.map(function (e) { return new Promise(function (n) { function t() { n(e) } o.pinpoint(e).then(n, t).catch(t) }) }))) }).then(function (e) { e.forEach(function (n, t) { if (n.functionName) var r = n.functionName + " "; else r = ""; var o = "    at " + r + "(" + n.fileName + ":" + n.lineNumber + ":" + n.columnNumber + ")"; e[t] = o }), e.unshift(r), t.detail = e.join("\n"), n.send(JSON.stringify(t)) }) } var d = function (e, n, a, s, c, g) { var p = e, d = n, v = s, y = g, _ = c, b = 1, O = f(); if ((null === p || null === d) && 2 !== l) return console.log("Login api error"); u.hasOwnProperty("apiKey") && u.hasOwnProperty("logId") && (p = u.apiKey, d = u.logId); var w = new XMLHttpRequest; if (w.open("POST", "https://api.elmah.io/v3/messages/" + d + "?api_key=" + p, !0), w.setRequestHeader("Content-type", "application/json"), w.onload = function (e) { 4 === w.readyState && 201 === w.status && a("success", w.statusText) }, w.onerror = function (e) { a("error", w.statusText), r.emit("error", w.status, w.statusText) }, "Log" !== v) { var C = y ? i.parse(y) : null, S = { title: _, source: C && C.length > 0 ? C[0].fileName : null, detail: y ? y.stack : null, severity: v, type: y ? y.name : null, queryString: JSON.parse(JSON.stringify(O)) }; S = h(S, o()) } else S = y; null !== t.filter && t.filter(S) && (b = 0), 1 === b && (S.title ? (r.emit("message", S), y && "Log" !== v && "undefined" != typeof Promise && -1 !== Promise.toString().indexOf("[native code]") ? m(y, w, S) : w.send(JSON.stringify(S))) : a("missing-title", w.statusText)) }; return r.error = function (e) { d(t.apiKey, t.logId, s, "Error", e) }, r.error = function (e, n) { d(t.apiKey, t.logId, s, "Error", e, n) }, r.verbose = function (e) { d(t.apiKey, t.logId, s, "Verbose", e) }, r.verbose = function (e, n) { d(t.apiKey, t.logId, s, "Verbose", e, n) }, r.debug = function (e) { d(t.apiKey, t.logId, s, "Debug", e) }, r.debug = function (e, n) { d(t.apiKey, t.logId, s, "Debug", e, n) }, r.information = function (e) { d(t.apiKey, t.logId, s, "Information", e) }, r.information = function (e, n) { d(t.apiKey, t.logId, s, "Information", e, n) }, r.warning = function (e) { d(t.apiKey, t.logId, s, "Warning", e) }, r.warning = function (e, n) { d(t.apiKey, t.logId, s, "Warning", e, n) }, r.fatal = function (e) { d(t.apiKey, t.logId, s, "Fatal", e) }, r.fatal = function (e, n) { d(t.apiKey, t.logId, s, "Fatal", e, n) }, r.log = function (e) { d(t.apiKey, t.logId, s, "Log", null, e) }, r.on = function (e, n, t) { var r = this.e || (this.e = {}); return (r[e] || (r[e] = [])).push({ fn: n, ctx: t }), this }, r.emit = function (e) { for (var n = [].slice.call(arguments, 1), t = ((this.e || (this.e = {}))[e] || []).slice(), r = 0, o = t.length; r < o; r++)t[r].fn.apply(t[r].ctx, n); return this }, r.init = function (n) { t = p(g, n || {}), e.onerror = function (e, n, a, c, g) { var p = { message: e, source: n, lineno: a, colno: c, error: g }; return function (e, n, a, s) { var c = e, g = n, p = s, d = 1, v = f(), y = p.error ? i.parse(p.error) : ""; if ((null === c || null === g) && 2 !== l) return console.log("Login api error"); u.hasOwnProperty("apiKey") && u.hasOwnProperty("logId") && (c = u.apiKey, g = u.logId); var _ = new XMLHttpRequest; _.open("POST", "https://api.elmah.io/v3/messages/" + g + "?api_key=" + c, !0), _.setRequestHeader("Content-type", "application/json"), _.onload = function (e) { 4 === _.readyState && 201 === _.status && a("success", _.statusText) }, _.onerror = function (e) { a("error", _.statusText), r.emit("error", _.status, _.statusText) }; var b = { detail: p.error ? p.error.stack : null, title: p.message || "Unspecified error", source: y && y.length > 0 ? y[0].fileName : null, severity: "Error", type: p.error ? p.error.name : null, queryString: JSON.parse(JSON.stringify(v)) }; b = h(b, o()), null !== t.filter && t.filter(b) && (d = 0), 1 === d && (r.emit("message", b), p.error && "undefined" != typeof Promise && -1 !== Promise.toString().indexOf("[native code]") ? m(p.error, _, b) : _.send(JSON.stringify(b))) }(t.apiKey, t.logId, s, p), !1 } }, r.init(n), t.debug && console.log("%c" + c.label, c.labelCSS), r }; return l && u.hasOwnProperty("apiKey") && u.hasOwnProperty("logId") ? new m : m });
//# sourceMappingURL=elmahio.min.js.map
