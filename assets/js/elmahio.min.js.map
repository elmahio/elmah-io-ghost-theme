{"version":3,"sources":["elmahio.js"],"names":["root","factory","define","amd","exports","module","Elmahio","global","window","this","FIREFOX_SAFARI_STACK_REGEXP","CHROME_IE_STACK_REGEXP","SAFARI_NATIVE_CODE_REGEXP","StackFrame","_isNumber","n","isNaN","parseFloat","isFinite","_capitalize","str","charAt","toUpperCase","substring","_getter","p","booleanProps","numericProps","stringProps","props","concat","obj","Object","i","length","hasOwnProperty","undefined","prototype","getArgs","args","setArgs","v","toString","call","TypeError","getEvalOrigin","evalOrigin","setEvalOrigin","getFunctionName","join","getFileName","getLineNumber","getColumnNumber","fromString","argsStartIndex","indexOf","argsEndIndex","lastIndexOf","functionName","split","locationString","parts","exec","fileName","lineNumber","columnNumber","Boolean","j","Number","k","String","ErrorStackParser","parse","error","stacktrace","parseOpera","stack","match","parseV8OrIE","parseFFOrSafari","Error","extractLocation","urlLike","replace","filter","line","map","sanitizedLine","location","locationParts","source","functionNameRegex","matches","e","message","parseOpera9","parseOpera11","parseOpera10","lineRE","lines","result","len","push","argsRaw","tokens","pop","functionCall","shift","StackTraceGPS","SourceMap","_xdr","url","Promise","resolve","reject","req","XMLHttpRequest","open","onerror","onreadystatechange","readyState","status","substr","responseText","send","_atob","b64str","atob","_ensureStackFrameIsLegit","stackframe","opts","sourceCache","sourceMapConsumerCache","ajax","_get","isDataUrl","offline","sourceMapStart","encodedSource","xhrPromise","method","then","bind","_getSourceMapConsumer","sourceMappingURL","defaultSourceRoot","sourceMapConsumerPromise","sourceMapSource","string","JSON","_parseJson","sourceRoot","SourceMapConsumer","pinpoint","getMappedLocation","mappedStackFrame","resolveMappedStackFrame","findFunctionName","guessedFunctionName","syntaxes","code","maxLines","Math","min","commentPos","index","m","_findFunctionName","defineProperty","create","_ensureSupportedEnvironment","lastSourceMappingUrl","matchSourceMappingUrl","sourceMappingUrlRegExp","_findSourceMappingURL","test","sourceMapConsumer","loc","originalPositionFor","column","mappedSource","sourceContentFor","name","_extractLocationInfoFromSourceMapSource","r","t","o","id","loaded","c","ArraySet","a","s","quickSort","u","sections","l","getArg","g","_version","normalize","isAbsolute","relative","_names","fromArray","_sources","sourcesContent","_mappings","file","generatedLine","generatedColumn","originalLine","originalColumn","_sections","generatedOffset","consumer","fromSourceMap","__generatedMappings","get","_parseMappings","__originalMappings","_charIsMappingSeparator","GENERATED_ORDER","ORIGINAL_ORDER","GREATEST_LOWER_BOUND","LEAST_UPPER_BOUND","eachMapping","_generatedMappings","_originalMappings","at","forEach","allGeneratedPositionsFor","has","_findMapping","compareByOriginalPositions","lastColumn","toArray","_sourceRoot","_generateSourcesContent","_file","slice","h","f","d","_","C","A","y","L","decode","value","rest","compareByGeneratedPositionsDeflated","search","computeColumnSpans","lastGeneratedColumn","hasContentsOfAllSources","size","some","urlParse","scheme","path","generatedPositionFor","BasicSourceMapConsumer","constructor","sources","bias","every","add","IndexedSourceMapConsumer","arguments","auth","host","port","splice","urlGenerate","Array","charCodeAt","toSetString","fromSetString","compareByGeneratedPositionsInflated","floor","_array","_set","getOwnPropertyNames","encode","round","random","myScript","scriptFile","document","getElementsByTagName","isMe","params","query","Params","Pairs","KeyVal","key","unescape","val","parseQuery","src","paramsLength","objectLength","debugSettings","label","labelCSS","successCSS","errorCSS","warningCSS","lightCSS","defaults","apiKey","logId","debug","application","captureConsoleMinimumLevel","breadcrumbs","breadcrumbsNumber","extend","extended","deep","merge","prop","scriptElem","getAttribute","isInt","isFloat","getSearchParameters","prmstr","prmarr","tmparr","transformToAssocArray","merge_objects","obj1","obj2","obj3","attrname1","attrname2","isString","what","cssSelectorString","elem","nextStr","out","height","sepLength","htmlElementAsString","parentNode","reverse","className","classes","attr","tagName","toLowerCase","attrWhitelist","parseHash","Constructor","options","settings","publicAPIs","lastHref","href","getPayload","payload","pathname","payload_data","documentMode","innerWidth","documentElement","clientWidth","innerHeight","clientHeight","screen","msOrientation","orientation","mozOrientation","type","width","colorDepth","data","payload_serverVariables","navigator","language","userAgent","userAgentData","brands","brandsValue","b","brand","version","mobile","platform","referrer","protocol","hostname","serverVariables","confirmResponse","response","console","log","Date","toLocaleString","generateErrorObject","inner","cause","getErrorTypeSource","object","iterateObj","keys","GenerateNewFrames","errorMessage","newFrames","lastInnerFileName","stackFrame","fn","stackString","unshift","GPSPromise","stackframes","gps","all","sf","resolveOriginal","stackGPS","xhr","jsonData","messagesArr","promiseArr","values","detail","stringify","typeOF","lineno","colno","manipulateStack","errorStack","severity","inspectorObj","fullError","s4","Id","Type","Message","StackTrace","Source","Inners","ExceptionSpecific","objEntries","entries","inspectorGPS","inspectorObject","final","generateNewFrames","recordBreadcrumb","crumb","dateTime","toISOString","breadcrumbs_number","breadcrumbClickEventHandler","evt","target","action","breadcrumbFormSubmitEventHandler","breadcrumbWindowEventHandler","breadcrumbHashChangeEventHandler","oldURL","newURL","hash","sendPayload","callback","errorLog","api_key","log_id","queryParams","setRequestHeader","onload","statusText","emit","title","queryString","typeOFCapitalized","typeAndSource","sendManualPayload","logType","messageLog","errorObject","sendPayloadFromConsole","messageTemplate","x","parseInt","format","titleTemplate","msg","setTimeout","verbose","information","warning","fatal","sendPrefilledLogMessage","addBreadcrumb","on","ctx","evtArr","apply","init","addEventListener","attachEvent","history","pushState","replaceState","old_onpopstate","onpopstate","event","breadcrumbXHRHandler","onunhandledrejection","reason","_error","errMessage","_warning","warn","warnMessage","_info","info","infoMessage","_debug","debugMessage"],"mappings":"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","sourcesContent":["/*!\r\n * elmah.io Javascript Logger - version 4.2.0\r\n * (c) 2018 elmah.io, Apache 2.0 License, https://elmah.io\r\n */\r\n\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([], function () {\r\n            return factory(root);\r\n        });\r\n    } else if (typeof exports === 'object') {\r\n        module.exports = factory(root);\r\n    } else {\r\n        root.Elmahio = factory(root);\r\n    }\r\n})(typeof global !== 'undefined' ? global : typeof window !== 'undefined' ? window : this, function (window) {\r\n\r\n    'use strict';\r\n\r\n    //\r\n    // ==== STACKFRAME ====\r\n    //\r\n\r\n    var StackFrame = (function () {\r\n        \"use strict\";\r\n        function _isNumber(n) {\r\n            return !isNaN(parseFloat(n)) && isFinite(n);\r\n        }\r\n        function _capitalize(str) {\r\n            return str.charAt(0).toUpperCase() + str.substring(1);\r\n        }\r\n        function _getter(p) {\r\n            return function () {\r\n                return this[p];\r\n            };\r\n        }\r\n        var booleanProps = [\"isConstructor\", \"isEval\", \"isNative\", \"isToplevel\"];\r\n        var numericProps = [\"columnNumber\", \"lineNumber\"];\r\n        var stringProps = [\"fileName\", \"functionName\", \"source\"];\r\n        var arrayProps = [\"args\"];\r\n        var props = booleanProps.concat(numericProps, stringProps, arrayProps);\r\n        function StackFrame(obj) {\r\n            if (obj instanceof Object) {\r\n                for (var i = 0; i < props.length; i++) {\r\n                    if (obj.hasOwnProperty(props[i]) && obj[props[i]] !== undefined) {\r\n                        this[\"set\" + _capitalize(props[i])](obj[props[i]]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        StackFrame.prototype = {\r\n            getArgs: function () {\r\n                return this.args;\r\n            },\r\n            setArgs: function (v) {\r\n                if (Object.prototype.toString.call(v) !== \"[object Array]\") {\r\n                    throw new TypeError(\"Args must be an Array\");\r\n                }\r\n                this.args = v;\r\n            },\r\n            getEvalOrigin: function () {\r\n                return this.evalOrigin;\r\n            },\r\n            setEvalOrigin: function (v) {\r\n                if (v instanceof StackFrame) {\r\n                    this.evalOrigin = v;\r\n                } else if (v instanceof Object) {\r\n                    this.evalOrigin = new StackFrame(v);\r\n                } else {\r\n                    throw new TypeError(\"Eval Origin must be an Object or StackFrame\");\r\n                }\r\n            },\r\n            toString: function () {\r\n                var functionName = this.getFunctionName() || \"{anonymous}\";\r\n                var args = \"(\" + (this.getArgs() || []).join(\",\") + \")\";\r\n                var fileName = this.getFileName() ? \"@\" + this.getFileName() : \"\";\r\n                var lineNumber = _isNumber(this.getLineNumber()) ? \":\" + this.getLineNumber() : \"\";\r\n                var columnNumber = _isNumber(this.getColumnNumber()) ? \":\" + this.getColumnNumber() : \"\";\r\n                return functionName + args + fileName + lineNumber + columnNumber;\r\n            }\r\n        };\r\n        StackFrame.fromString = function StackFrame$$fromString(str) {\r\n            var argsStartIndex = str.indexOf(\"(\");\r\n            var argsEndIndex = str.lastIndexOf(\")\");\r\n            var functionName = str.substring(0, argsStartIndex);\r\n            var args = str.substring(argsStartIndex + 1, argsEndIndex).split(\",\");\r\n            var locationString = str.substring(argsEndIndex + 1);\r\n            if (locationString.indexOf(\"@\") === 0) {\r\n                var parts = /@(.+?)(?::(\\d+))?(?::(\\d+))?$/.exec(locationString, \"\");\r\n                var fileName = parts[1];\r\n                var lineNumber = parts[2];\r\n                var columnNumber = parts[3];\r\n            }\r\n            return new StackFrame({\r\n                functionName: functionName,\r\n                args: args || undefined,\r\n                fileName: fileName,\r\n                lineNumber: lineNumber || undefined,\r\n                columnNumber: columnNumber || undefined\r\n            });\r\n        };\r\n        for (var i = 0; i < booleanProps.length; i++) {\r\n            StackFrame.prototype[\"get\" + _capitalize(booleanProps[i])] = _getter(booleanProps[i]);\r\n            StackFrame.prototype[\"set\" + _capitalize(booleanProps[i])] = function (p) {\r\n                return function (v) {\r\n                    this[p] = Boolean(v);\r\n                };\r\n            }(booleanProps[i]);\r\n        }\r\n        for (var j = 0; j < numericProps.length; j++) {\r\n            StackFrame.prototype[\"get\" + _capitalize(numericProps[j])] = _getter(numericProps[j]);\r\n            StackFrame.prototype[\"set\" + _capitalize(numericProps[j])] = function (p) {\r\n                return function (v) {\r\n                    if (!_isNumber(v)) {\r\n                        throw new TypeError(p + \" must be a Number\");\r\n                    }\r\n                    this[p] = Number(v);\r\n                };\r\n            }(numericProps[j]);\r\n        }\r\n        for (var k = 0; k < stringProps.length; k++) {\r\n            StackFrame.prototype[\"get\" + _capitalize(stringProps[k])] = _getter(stringProps[k]);\r\n            StackFrame.prototype[\"set\" + _capitalize(stringProps[k])] = function (p) {\r\n                return function (v) {\r\n                    this[p] = String(v);\r\n                };\r\n            }(stringProps[k]);\r\n        }\r\n        return StackFrame;\r\n    })();\r\n\r\n    //\r\n    // ==== ERROR STACK PARSER ====\r\n    //\r\n\r\n    var ErrorStackParser = (function () {\r\n        'use strict';\r\n        var FIREFOX_SAFARI_STACK_REGEXP = /(^|@)\\S+:\\d+/;\r\n        var CHROME_IE_STACK_REGEXP = /^\\s*at .*(\\S+:\\d+|\\(native\\))/m;\r\n        var SAFARI_NATIVE_CODE_REGEXP = /^(eval@)?(\\[native code])?$/;\r\n\r\n        return {\r\n            /**\r\n             * Given an Error object, extract the most information from it.\r\n             *\r\n             * @param {Error} error object\r\n             * @return {Array} of StackFrames\r\n             */\r\n            parse: function ErrorStackParser$$parse(error) {\r\n                if (typeof error.stacktrace !== 'undefined' || typeof error['opera#sourceloc'] !== 'undefined') {\r\n                    return this.parseOpera(error);\r\n                } else if (error.stack && error.stack.match(CHROME_IE_STACK_REGEXP)) {\r\n                    return this.parseV8OrIE(error);\r\n                } else if (error.stack) {\r\n                    return this.parseFFOrSafari(error);\r\n                } else {\r\n                    throw new Error('Cannot parse given Error object');\r\n                }\r\n            },\r\n            // Separate line and column numbers from a string of the form: (URI:Line:Column)\r\n            extractLocation: function ErrorStackParser$$extractLocation(urlLike) {\r\n                // Fail-fast but return locations like \"(native)\"\r\n                if (urlLike.indexOf(':') === -1) {\r\n                    return [urlLike];\r\n                }\r\n                var regExp = /(.+?)(?::(\\d+))?(?::(\\d+))?$/;\r\n                var parts = regExp.exec(urlLike.replace(/[()]/g, ''));\r\n                return [parts[1], parts[2] || undefined, parts[3] || undefined];\r\n            },\r\n            parseV8OrIE: function ErrorStackParser$$parseV8OrIE(error) {\r\n                var filtered = error.stack.split('\\n').filter(function(line) {\r\n                    return !!line.match(CHROME_IE_STACK_REGEXP);\r\n                }, this);\r\n                return filtered.map(function(line) {\r\n                    if (line.indexOf('(eval ') > -1) {\r\n                        // Throw away eval information until we implement stacktrace.js/stackframe#8\r\n                        line = line.replace(/eval code/g, 'eval').replace(/(\\(eval at [^()]*)|(,.*$)/g, '');\r\n                    }\r\n                    var sanitizedLine = line.replace(/^\\s+/, '').replace(/\\(eval code/g, '(').replace(/^.*?\\s+/, '');\r\n                    // capture and preseve the parenthesized location \"(/foo/my bar.js:12:87)\" in\r\n                    // case it has spaces in it, as the string is split on \\s+ later on\r\n                    var location = sanitizedLine.match(/ (\\(.+\\)$)/);\r\n                    // remove the parenthesized location from the line, if it was matched\r\n                    sanitizedLine = location ? sanitizedLine.replace(location[0], '') : sanitizedLine;\r\n                    // if a location was matched, pass it to extractLocation() otherwise pass all sanitizedLine\r\n                    // because this line doesn't have function name\r\n                    var locationParts = this.extractLocation(location ? location[1] : sanitizedLine);\r\n                    var functionName = location && sanitizedLine || undefined;\r\n                    var fileName = ['eval', '<anonymous>'].indexOf(locationParts[0]) > -1 ? undefined : locationParts[0];\r\n                    return new StackFrame({\r\n                        functionName: functionName,\r\n                        fileName: fileName,\r\n                        lineNumber: locationParts[1],\r\n                        columnNumber: locationParts[2],\r\n                        source: line\r\n                    });\r\n                }, this);\r\n            },\r\n            parseFFOrSafari: function ErrorStackParser$$parseFFOrSafari(error) {\r\n                var filtered = error.stack.split('\\n').filter(function(line) {\r\n                    return !line.match(SAFARI_NATIVE_CODE_REGEXP);\r\n                }, this);\r\n                return filtered.map(function(line) {\r\n                    // Throw away eval information until we implement stacktrace.js/stackframe#8\r\n                    if (line.indexOf(' > eval') > -1) {\r\n                        line = line.replace(/ line (\\d+)(?: > eval line \\d+)* > eval:\\d+:\\d+/g, ':$1');\r\n                    }\r\n                    if (line.indexOf('@') === -1 && line.indexOf(':') === -1) {\r\n                        // Safari eval frames only have function names and nothing else\r\n                        return new StackFrame({\r\n                            functionName: line\r\n                        });\r\n                    } else {\r\n                        var functionNameRegex = /((.*\".+\"[^@]*)?[^@]*)(?:@)/;\r\n                        var matches = line.match(functionNameRegex);\r\n                        var functionName = matches && matches[1] ? matches[1] : undefined;\r\n                        var locationParts = this.extractLocation(line.replace(functionNameRegex, ''));\r\n                        return new StackFrame({\r\n                            functionName: functionName,\r\n                            fileName: locationParts[0],\r\n                            lineNumber: locationParts[1],\r\n                            columnNumber: locationParts[2],\r\n                            source: line\r\n                        });\r\n                    }\r\n                }, this);\r\n            },\r\n            parseOpera: function ErrorStackParser$$parseOpera(e) {\r\n                if (!e.stacktrace || (e.message.indexOf('\\n') > -1 &&\r\n                    e.message.split('\\n').length > e.stacktrace.split('\\n').length)) {\r\n                    return this.parseOpera9(e);\r\n                } else if (!e.stack) {\r\n                    return this.parseOpera10(e);\r\n                } else {\r\n                    return this.parseOpera11(e);\r\n                }\r\n            },\r\n            parseOpera9: function ErrorStackParser$$parseOpera9(e) {\r\n                var lineRE = /Line (\\d+).*script (?:in )?(\\S+)/i;\r\n                var lines = e.message.split('\\n');\r\n                var result = [];\r\n                for (var i = 2, len = lines.length; i < len; i += 2) {\r\n                    var match = lineRE.exec(lines[i]);\r\n                    if (match) {\r\n                        result.push(new StackFrame({\r\n                            fileName: match[2],\r\n                            lineNumber: match[1],\r\n                            source: lines[i]\r\n                        }));\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            parseOpera10: function ErrorStackParser$$parseOpera10(e) {\r\n                var lineRE = /Line (\\d+).*script (?:in )?(\\S+)(?:: In function (\\S+))?$/i;\r\n                var lines = e.stacktrace.split('\\n');\r\n                var result = [];\r\n                for (var i = 0, len = lines.length; i < len; i += 2) {\r\n                    var match = lineRE.exec(lines[i]);\r\n                    if (match) {\r\n                        result.push(\r\n                            new StackFrame({\r\n                                functionName: match[3] || undefined,\r\n                                fileName: match[2],\r\n                                lineNumber: match[1],\r\n                                source: lines[i]\r\n                            })\r\n                        );\r\n                    }\r\n                }\r\n                return result;\r\n            },\r\n            // Opera 10.65+ Error.stack very similar to FF/Safari\r\n            parseOpera11: function ErrorStackParser$$parseOpera11(error) {\r\n                var filtered = error.stack.split('\\n').filter(function(line) {\r\n                    return !!line.match(FIREFOX_SAFARI_STACK_REGEXP) && !line.match(/^Error created at/);\r\n                }, this);\r\n                return filtered.map(function(line) {\r\n                    var tokens = line.split('@');\r\n                    var locationParts = this.extractLocation(tokens.pop());\r\n                    var functionCall = (tokens.shift() || '');\r\n                    var functionName = functionCall\r\n                        .replace(/<anonymous function(: (\\w+))?>/, '$2')\r\n                        .replace(/\\([^)]*\\)/g, '') || undefined;\r\n                    var argsRaw;\r\n                    if (functionCall.match(/\\(([^)]*)\\)/)) {\r\n                        argsRaw = functionCall.replace(/^[^(]+\\(([^)]*)\\)$/, '$1');\r\n                    }\r\n                    var args = (argsRaw === undefined || argsRaw === '[arguments not available]') ?\r\n                        undefined : argsRaw.split(',');\r\n\r\n                    return new StackFrame({\r\n                        functionName: functionName,\r\n                        args: args,\r\n                        fileName: locationParts[0],\r\n                        lineNumber: locationParts[1],\r\n                        columnNumber: locationParts[2],\r\n                        source: line\r\n                    });\r\n                }, this);\r\n            }\r\n        };\r\n    })();\r\n\r\n    //\r\n    // ==== STACKTRACE-GPS ====\r\n    //\r\n\r\n    var SourceMap = function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={exports:{},id:t,loaded:!1};return e[t].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=e,r.c=n,r.p=\"\",r(0)}([function(e,n,r){var t=r(1),o=r(2),i=r(3).ArraySet,a=r(4),s=r(6).quickSort;function u(e){var n=e;return\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\"))),null!=n.sections?new c(n):new l(n)}function l(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=t.getArg(n,\"version\"),o=t.getArg(n,\"sources\"),a=t.getArg(n,\"names\",[]),s=t.getArg(n,\"sourceRoot\",null),u=t.getArg(n,\"sourcesContent\",null),l=t.getArg(n,\"mappings\"),g=t.getArg(n,\"file\",null);if(r!=this._version)throw new Error(\"Unsupported version: \"+r);o=o.map(String).map(t.normalize).map(function(e){return s&&t.isAbsolute(s)&&t.isAbsolute(e)?t.relative(s,e):e}),this._names=i.fromArray(a.map(String),!0),this._sources=i.fromArray(o,!0),this.sourceRoot=s,this.sourcesContent=u,this._mappings=l,this.file=g}function g(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function c(e){var n=e;\"string\"==typeof e&&(n=JSON.parse(e.replace(/^\\)\\]\\}'/,\"\")));var r=t.getArg(n,\"version\"),o=t.getArg(n,\"sections\");if(r!=this._version)throw new Error(\"Unsupported version: \"+r);this._sources=new i,this._names=new i;var a={line:-1,column:0};this._sections=o.map(function(e){if(e.url)throw new Error(\"Support for url field in sections not implemented.\");var n=t.getArg(e,\"offset\"),r=t.getArg(n,\"line\"),o=t.getArg(n,\"column\");if(r<a.line||r===a.line&&o<a.column)throw new Error(\"Section offsets must be ordered and non-overlapping.\");return a=n,{generatedOffset:{generatedLine:r+1,generatedColumn:o+1},consumer:new u(t.getArg(e,\"map\"))}})}u.fromSourceMap=function(e){return l.fromSourceMap(e)},u.prototype._version=3,u.prototype.__generatedMappings=null,Object.defineProperty(u.prototype,\"_generatedMappings\",{get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),u.prototype.__originalMappings=null,Object.defineProperty(u.prototype,\"_originalMappings\",{get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),u.prototype._charIsMappingSeparator=function(e,n){var r=e.charAt(n);return\";\"===r||\",\"===r},u.prototype._parseMappings=function(e,n){throw new Error(\"Subclasses must implement _parseMappings\")},u.GENERATED_ORDER=1,u.ORIGINAL_ORDER=2,u.GREATEST_LOWER_BOUND=1,u.LEAST_UPPER_BOUND=2,u.prototype.eachMapping=function(e,n,r){var o,i=n||null;switch(r||u.GENERATED_ORDER){case u.GENERATED_ORDER:o=this._generatedMappings;break;case u.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error(\"Unknown order of iteration.\")}var a=this.sourceRoot;o.map(function(e){var n=null===e.source?null:this._sources.at(e.source);return null!=n&&null!=a&&(n=t.join(a,n)),{source:n,generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,i)},u.prototype.allGeneratedPositionsFor=function(e){var n=t.getArg(e,\"line\"),r={source:t.getArg(e,\"source\"),originalLine:n,originalColumn:t.getArg(e,\"column\",0)};if(null!=this.sourceRoot&&(r.source=t.relative(this.sourceRoot,r.source)),!this._sources.has(r.source))return[];r.source=this._sources.indexOf(r.source);var i=[],a=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",t.compareByOriginalPositions,o.LEAST_UPPER_BOUND);if(a>=0){var s=this._originalMappings[a];if(void 0===e.column)for(var u=s.originalLine;s&&s.originalLine===u;)i.push({line:t.getArg(s,\"generatedLine\",null),column:t.getArg(s,\"generatedColumn\",null),lastColumn:t.getArg(s,\"lastGeneratedColumn\",null)}),s=this._originalMappings[++a];else for(var l=s.originalColumn;s&&s.originalLine===n&&s.originalColumn==l;)i.push({line:t.getArg(s,\"generatedLine\",null),column:t.getArg(s,\"generatedColumn\",null),lastColumn:t.getArg(s,\"lastGeneratedColumn\",null)}),s=this._originalMappings[++a]}return i},n.SourceMapConsumer=u,l.prototype=Object.create(u.prototype),l.prototype.consumer=u,l.fromSourceMap=function(e){var n=Object.create(l.prototype),r=n._names=i.fromArray(e._names.toArray(),!0),o=n._sources=i.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file;for(var a=e._mappings.toArray().slice(),u=n.__generatedMappings=[],c=n.__originalMappings=[],p=0,h=a.length;p<h;p++){var f=a[p],d=new g;d.generatedLine=f.generatedLine,d.generatedColumn=f.generatedColumn,f.source&&(d.source=o.indexOf(f.source),d.originalLine=f.originalLine,d.originalColumn=f.originalColumn,f.name&&(d.name=r.indexOf(f.name)),c.push(d)),u.push(d)}return s(n.__originalMappings,t.compareByOriginalPositions),n},l.prototype._version=3,Object.defineProperty(l.prototype,\"sources\",{get:function(){return this._sources.toArray().map(function(e){return null!=this.sourceRoot?t.join(this.sourceRoot,e):e},this)}}),l.prototype._parseMappings=function(e,n){for(var r,o,i,u,l,c=1,p=0,h=0,f=0,d=0,m=0,_=e.length,v=0,C={},A={},y=[],L=[];v<_;)if(\";\"===e.charAt(v))c++,v++,p=0;else if(\",\"===e.charAt(v))v++;else{for((r=new g).generatedLine=c,u=v;u<_&&!this._charIsMappingSeparator(e,u);u++);if(i=C[o=e.slice(v,u)])v+=o.length;else{for(i=[];v<u;)a.decode(e,v,A),l=A.value,v=A.rest,i.push(l);if(2===i.length)throw new Error(\"Found a source, but no line and column\");if(3===i.length)throw new Error(\"Found a source and line, but no column\");C[o]=i}r.generatedColumn=p+i[0],p=r.generatedColumn,i.length>1&&(r.source=d+i[1],d+=i[1],r.originalLine=h+i[2],h=r.originalLine,r.originalLine+=1,r.originalColumn=f+i[3],f=r.originalColumn,i.length>4&&(r.name=m+i[4],m+=i[4])),L.push(r),\"number\"==typeof r.originalLine&&y.push(r)}s(L,t.compareByGeneratedPositionsDeflated),this.__generatedMappings=L,s(y,t.compareByOriginalPositions),this.__originalMappings=y},l.prototype._findMapping=function(e,n,r,t,i,a){if(e[r]<=0)throw new TypeError(\"Line must be greater than or equal to 1, got \"+e[r]);if(e[t]<0)throw new TypeError(\"Column must be greater than or equal to 0, got \"+e[t]);return o.search(e,n,i,a)},l.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var n=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var r=this._generatedMappings[e+1];if(n.generatedLine===r.generatedLine){n.lastGeneratedColumn=r.generatedColumn-1;continue}}n.lastGeneratedColumn=1/0}},l.prototype.originalPositionFor=function(e){var n={generatedLine:t.getArg(e,\"line\"),generatedColumn:t.getArg(e,\"column\")},r=this._findMapping(n,this._generatedMappings,\"generatedLine\",\"generatedColumn\",t.compareByGeneratedPositionsDeflated,t.getArg(e,\"bias\",u.GREATEST_LOWER_BOUND));if(r>=0){var o=this._generatedMappings[r];if(o.generatedLine===n.generatedLine){var i=t.getArg(o,\"source\",null);null!==i&&(i=this._sources.at(i),null!=this.sourceRoot&&(i=t.join(this.sourceRoot,i)));var a=t.getArg(o,\"name\",null);return null!==a&&(a=this._names.at(a)),{source:i,line:t.getArg(o,\"originalLine\",null),column:t.getArg(o,\"originalColumn\",null),name:a}}}return{source:null,line:null,column:null,name:null}},l.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},l.prototype.sourceContentFor=function(e,n){if(!this.sourcesContent)return null;if(null!=this.sourceRoot&&(e=t.relative(this.sourceRoot,e)),this._sources.has(e))return this.sourcesContent[this._sources.indexOf(e)];var r;if(null!=this.sourceRoot&&(r=t.urlParse(this.sourceRoot))){var o=e.replace(/^file:\\/\\//,\"\");if(\"file\"==r.scheme&&this._sources.has(o))return this.sourcesContent[this._sources.indexOf(o)];if((!r.path||\"/\"==r.path)&&this._sources.has(\"/\"+e))return this.sourcesContent[this._sources.indexOf(\"/\"+e)]}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},l.prototype.generatedPositionFor=function(e){var n=t.getArg(e,\"source\");if(null!=this.sourceRoot&&(n=t.relative(this.sourceRoot,n)),!this._sources.has(n))return{line:null,column:null,lastColumn:null};var r={source:n=this._sources.indexOf(n),originalLine:t.getArg(e,\"line\"),originalColumn:t.getArg(e,\"column\")},o=this._findMapping(r,this._originalMappings,\"originalLine\",\"originalColumn\",t.compareByOriginalPositions,t.getArg(e,\"bias\",u.GREATEST_LOWER_BOUND));if(o>=0){var i=this._originalMappings[o];if(i.source===r.source)return{line:t.getArg(i,\"generatedLine\",null),column:t.getArg(i,\"generatedColumn\",null),lastColumn:t.getArg(i,\"lastGeneratedColumn\",null)}}return{line:null,column:null,lastColumn:null}},n.BasicSourceMapConsumer=l,c.prototype=Object.create(u.prototype),c.prototype.constructor=u,c.prototype._version=3,Object.defineProperty(c.prototype,\"sources\",{get:function(){for(var e=[],n=0;n<this._sections.length;n++)for(var r=0;r<this._sections[n].consumer.sources.length;r++)e.push(this._sections[n].consumer.sources[r]);return e}}),c.prototype.originalPositionFor=function(e){var n={generatedLine:t.getArg(e,\"line\"),generatedColumn:t.getArg(e,\"column\")},r=o.search(n,this._sections,function(e,n){var r=e.generatedLine-n.generatedOffset.generatedLine;return r||e.generatedColumn-n.generatedOffset.generatedColumn}),i=this._sections[r];return i?i.consumer.originalPositionFor({line:n.generatedLine-(i.generatedOffset.generatedLine-1),column:n.generatedColumn-(i.generatedOffset.generatedLine===n.generatedLine?i.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},c.prototype.sourceContentFor=function(e,n){for(var r=0;r<this._sections.length;r++){var t=this._sections[r].consumer.sourceContentFor(e,!0);if(t)return t}if(n)return null;throw new Error('\"'+e+'\" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){for(var n=0;n<this._sections.length;n++){var r=this._sections[n];if(-1!==r.consumer.sources.indexOf(t.getArg(e,\"source\"))){var o=r.consumer.generatedPositionFor(e);if(o)return{line:o.line+(r.generatedOffset.generatedLine-1),column:o.column+(r.generatedOffset.generatedLine===o.line?r.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},c.prototype._parseMappings=function(e,n){this.__generatedMappings=[],this.__originalMappings=[];for(var r=0;r<this._sections.length;r++)for(var o=this._sections[r],i=o.consumer._generatedMappings,a=0;a<i.length;a++){var u=i[a],l=o.consumer._sources.at(u.source);null!==o.consumer.sourceRoot&&(l=t.join(o.consumer.sourceRoot,l)),this._sources.add(l),l=this._sources.indexOf(l);var g=o.consumer._names.at(u.name);this._names.add(g),g=this._names.indexOf(g);var c={source:l,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:g};this.__generatedMappings.push(c),\"number\"==typeof c.originalLine&&this.__originalMappings.push(c)}s(this.__generatedMappings,t.compareByGeneratedPositionsDeflated),s(this.__originalMappings,t.compareByOriginalPositions)},n.IndexedSourceMapConsumer=c},function(e,n){n.getArg=function(e,n,r){if(n in e)return e[n];if(3===arguments.length)return r;throw new Error('\"'+n+'\" is a required argument.')};var r=/^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.]*)(?::(\\d+))?(\\S*)$/,t=/^data:.+\\,.+$/;function o(e){var n=e.match(r);return n?{scheme:n[1],auth:n[2],host:n[3],port:n[4],path:n[5]}:null}function i(e){var n=\"\";return e.scheme&&(n+=e.scheme+\":\"),n+=\"//\",e.auth&&(n+=e.auth+\"@\"),e.host&&(n+=e.host),e.port&&(n+=\":\"+e.port),e.path&&(n+=e.path),n}function a(e){var r=e,t=o(e);if(t){if(!t.path)return e;r=t.path}for(var a,s=n.isAbsolute(r),u=r.split(/\\/+/),l=0,g=u.length-1;g>=0;g--)\".\"===(a=u[g])?u.splice(g,1):\"..\"===a?l++:l>0&&(\"\"===a?(u.splice(g+1,l),l=0):(u.splice(g,2),l--));return\"\"===(r=u.join(\"/\"))&&(r=s?\"/\":\".\"),t?(t.path=r,i(t)):r}n.urlParse=o,n.urlGenerate=i,n.normalize=a,n.join=function(e,n){\"\"===e&&(e=\".\"),\"\"===n&&(n=\".\");var r=o(n),s=o(e);if(s&&(e=s.path||\"/\"),r&&!r.scheme)return s&&(r.scheme=s.scheme),i(r);if(r||n.match(t))return n;if(s&&!s.host&&!s.path)return s.host=n,i(s);var u=\"/\"===n.charAt(0)?n:a(e.replace(/\\/+$/,\"\")+\"/\"+n);return s?(s.path=u,i(s)):u},n.isAbsolute=function(e){return\"/\"===e.charAt(0)||!!e.match(r)},n.relative=function(e,n){\"\"===e&&(e=\".\"),e=e.replace(/\\/$/,\"\");for(var r=0;0!==n.indexOf(e+\"/\");){var t=e.lastIndexOf(\"/\");if(t<0)return n;if((e=e.slice(0,t)).match(/^([^\\/]+:\\/)?\\/*$/))return n;++r}return Array(r+1).join(\"../\")+n.substr(e.length+1)};var s=!(\"__proto__\"in Object.create(null));function u(e){return e}function l(e){if(!e)return!1;var n=e.length;if(n<9)return!1;if(95!==e.charCodeAt(n-1)||95!==e.charCodeAt(n-2)||111!==e.charCodeAt(n-3)||116!==e.charCodeAt(n-4)||111!==e.charCodeAt(n-5)||114!==e.charCodeAt(n-6)||112!==e.charCodeAt(n-7)||95!==e.charCodeAt(n-8)||95!==e.charCodeAt(n-9))return!1;for(var r=n-10;r>=0;r--)if(36!==e.charCodeAt(r))return!1;return!0}function g(e,n){return e===n?0:e>n?1:-1}n.toSetString=s?u:function(e){return l(e)?\"$\"+e:e},n.fromSetString=s?u:function(e){return l(e)?e.slice(1):e},n.compareByOriginalPositions=function(e,n,r){var t=e.source-n.source;return 0!==t?t:0!=(t=e.originalLine-n.originalLine)?t:0!=(t=e.originalColumn-n.originalColumn)||r?t:0!=(t=e.generatedColumn-n.generatedColumn)?t:0!=(t=e.generatedLine-n.generatedLine)?t:e.name-n.name},n.compareByGeneratedPositionsDeflated=function(e,n,r){var t=e.generatedLine-n.generatedLine;return 0!==t?t:0!=(t=e.generatedColumn-n.generatedColumn)||r?t:0!=(t=e.source-n.source)?t:0!=(t=e.originalLine-n.originalLine)?t:0!=(t=e.originalColumn-n.originalColumn)?t:e.name-n.name},n.compareByGeneratedPositionsInflated=function(e,n){var r=e.generatedLine-n.generatedLine;return 0!==r?r:0!=(r=e.generatedColumn-n.generatedColumn)?r:0!==(r=g(e.source,n.source))?r:0!=(r=e.originalLine-n.originalLine)?r:0!=(r=e.originalColumn-n.originalColumn)?r:g(e.name,n.name)}},function(e,n){n.GREATEST_LOWER_BOUND=1,n.LEAST_UPPER_BOUND=2,n.search=function(e,r,t,o){if(0===r.length)return-1;var i=function e(r,t,o,i,a,s){var u=Math.floor((t-r)/2)+r,l=a(o,i[u],!0);return 0===l?u:l>0?t-u>1?e(u,t,o,i,a,s):s==n.LEAST_UPPER_BOUND?t<i.length?t:-1:u:u-r>1?e(r,u,o,i,a,s):s==n.LEAST_UPPER_BOUND?u:r<0?-1:r}(-1,r.length,e,r,t,o||n.GREATEST_LOWER_BOUND);if(i<0)return-1;for(;i-1>=0&&0===t(r[i],r[i-1],!0);)--i;return i}},function(e,n,r){var t=r(1),o=Object.prototype.hasOwnProperty;function i(){this._array=[],this._set=Object.create(null)}i.fromArray=function(e,n){for(var r=new i,t=0,o=e.length;t<o;t++)r.add(e[t],n);return r},i.prototype.size=function(){return Object.getOwnPropertyNames(this._set).length},i.prototype.add=function(e,n){var r=t.toSetString(e),i=o.call(this._set,r),a=this._array.length;i&&!n||this._array.push(e),i||(this._set[r]=a)},i.prototype.has=function(e){var n=t.toSetString(e);return o.call(this._set,n)},i.prototype.indexOf=function(e){var n=t.toSetString(e);if(o.call(this._set,n))return this._set[n];throw new Error('\"'+e+'\" is not in the set.')},i.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error(\"No element indexed by \"+e)},i.prototype.toArray=function(){return this._array.slice()},n.ArraySet=i},function(e,n,r){var t=r(5);n.encode=function(e){var n,r,o=\"\",i=(r=e)<0?1+(-r<<1):0+(r<<1);do{n=31&i,(i>>>=5)>0&&(n|=32),o+=t.encode(n)}while(i>0);return o},n.decode=function(e,n,r){var o,i,a,s,u=e.length,l=0,g=0;do{if(n>=u)throw new Error(\"Expected more digits in base 64 VLQ value.\");if(-1===(i=t.decode(e.charCodeAt(n++))))throw new Error(\"Invalid base64 digit: \"+e.charAt(n-1));o=!!(32&i),l+=(i&=31)<<g,g+=5}while(o);r.value=(s=(a=l)>>1,1==(1&a)?-s:s),r.rest=n}},function(e,n){var r=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\".split(\"\");n.encode=function(e){if(0<=e&&e<r.length)return r[e];throw new TypeError(\"Must be between 0 and 63: \"+e)},n.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},function(e,n){function r(e,n,r){var t=e[n];e[n]=e[r],e[r]=t}function t(e,n,o,i){if(o<i){var a=o-1;r(e,(g=o,c=i,Math.round(g+Math.random()*(c-g))),i);for(var s=e[i],u=o;u<i;u++)n(e[u],s)<=0&&r(e,a+=1,u);r(e,a+1,u);var l=a+1;t(e,n,o,l-1),t(e,n,l+1,i)}var g,c}n.quickSort=function(e,n){t(e,n,0,e.length-1)}}]);\r\n\r\n    var StackTraceGPS = (function (SourceMap, StackFrame) {\r\n        \"use strict\";\r\n        /**\r\n           * Make a X-Domain request to url and callback.\r\n           *\r\n           * @param {String} url\r\n           * @returns {Promise} with response text if fulfilled\r\n           */\r\n\r\n        function _xdr(url) {\r\n            return new Promise(function (resolve, reject) {\r\n                var req = new XMLHttpRequest();\r\n                req.open(\"get\", url);\r\n                req.onerror = reject;\r\n                req.onreadystatechange = function onreadystatechange() {\r\n                    if (req.readyState === 4) {\r\n                        if (req.status >= 200 && req.status < 300 || url.substr(0, 7) === \"file://\" && req.responseText) {\r\n                            resolve(req.responseText);\r\n                        } else {\r\n                            reject(new Error(\"HTTP status: \" + req.status + \" retrieving \" + url));\r\n                        }\r\n                    }\r\n                };\r\n                req.send();\r\n            });\r\n        }\r\n        /**\r\n           * Convert a Base64-encoded string into its original representation.\r\n           * Used for inline sourcemaps.\r\n           *\r\n           * @param {String} b64str Base-64 encoded string\r\n           * @returns {String} original representation of the base64-encoded string.\r\n           */\r\n        function _atob(b64str) {\r\n            if (typeof window !== \"undefined\" && window.atob) {\r\n                return window.atob(b64str);\r\n            } else {\r\n                throw new Error(\"You must supply a polyfill for window.atob in this environment\");\r\n            }\r\n        }\r\n        function _parseJson(string) {\r\n            if (typeof JSON !== \"undefined\" && JSON.parse) {\r\n                return JSON.parse(string);\r\n            } else {\r\n                throw new Error(\"You must supply a polyfill for JSON.parse in this environment\");\r\n            }\r\n        }\r\n        function _findFunctionName(source, lineNumber) {\r\n            var syntaxes = [ // {name} = function ({args}) TODO args capture\r\n                /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*function\\b/, // function {name}({args}) m[1]=name m[2]=args\r\n                /function\\s+([^('\"`]*?)\\s*\\(([^)]*)\\)/, // {name} = eval()\r\n                /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*(?:eval|new Function)\\b/, // fn_name() {\r\n                /\\b(?!(?:if|for|switch|while|with|catch)\\b)(?:(?:static)\\s+)?(\\S+)\\s*\\(.*?\\)\\s*\\{/, // {name} = () => {\r\n                /['\"]?([$_A-Za-z][$_A-Za-z0-9]*)['\"]?\\s*[:=]\\s*\\(.*?\\)\\s*=>/];\r\n            var lines = source.split(\"\\n\");\r\n            // Walk backwards in the source lines until we find the line which matches one of the patterns above\r\n            var code = \"\";\r\n            var maxLines = Math.min(lineNumber, 20);\r\n            for (var i = 0; i < maxLines; ++i) {\r\n                // lineNo is 1-based, source[] is 0-based\r\n                var line = lines[lineNumber - i - 1];\r\n                var commentPos = line.indexOf(\"//\");\r\n                if (commentPos >= 0) {\r\n                    line = line.substr(0, commentPos);\r\n                }\r\n                if (line) {\r\n                    code = line + code;\r\n                    var len = syntaxes.length;\r\n                    for (var index = 0; index < len; index++) {\r\n                        var m = syntaxes[index].exec(code);\r\n                        if (m && m[1]) {\r\n                            return m[1];\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return undefined;\r\n        }\r\n        function _ensureSupportedEnvironment() {\r\n            if (typeof Object.defineProperty !== \"function\" || typeof Object.create !== \"function\") {\r\n                throw new Error(\"Unable to consume source maps in older browsers\");\r\n            }\r\n        }\r\n        function _ensureStackFrameIsLegit(stackframe) {\r\n            if (typeof stackframe !== \"object\") {\r\n                throw new TypeError(\"Given StackFrame is not an object\");\r\n            } else if (typeof stackframe.fileName !== \"string\") {\r\n                throw new TypeError(\"Given file name is not a String\");\r\n            } else if (typeof stackframe.lineNumber !== \"number\" || stackframe.lineNumber % 1 !== 0 || stackframe.lineNumber < 1) {\r\n                throw new TypeError(\"Given line number must be a positive integer\");\r\n            } else if (typeof stackframe.columnNumber !== \"number\" || stackframe.columnNumber % 1 !== 0 || stackframe.columnNumber < 0) {\r\n                throw new TypeError(\"Given column number must be a non-negative integer\");\r\n            }\r\n            return true;\r\n        }\r\n        function _findSourceMappingURL(source) {\r\n            var sourceMappingUrlRegExp = /\\/\\/[#@] ?sourceMappingURL=([^\\s'\"]+)\\s*$/gm;\r\n            var lastSourceMappingUrl;\r\n            var matchSourceMappingUrl;\r\n            while (matchSourceMappingUrl = sourceMappingUrlRegExp.exec(source)) {\r\n                // jshint ignore:line\r\n                lastSourceMappingUrl = matchSourceMappingUrl[1];\r\n            }\r\n            if (lastSourceMappingUrl) {\r\n                return lastSourceMappingUrl;\r\n            } else {\r\n                throw new Error(\"sourceMappingURL not found\");\r\n            }\r\n        }\r\n        function _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache) {\r\n            return new Promise(function (resolve, reject) {\r\n                var loc = sourceMapConsumer.originalPositionFor({\r\n                    line: stackframe.lineNumber,\r\n                    column: stackframe.columnNumber\r\n                });\r\n                if (loc.source) {\r\n                    // cache mapped sources\r\n                    var mappedSource = sourceMapConsumer.sourceContentFor(loc.source);\r\n                    if (mappedSource) {\r\n                        sourceCache[loc.source] = mappedSource;\r\n                    }\r\n                    resolve(// given stackframe and source location, update stackframe\r\n                        new StackFrame({\r\n                            functionName: loc.name || stackframe.functionName,\r\n                            args: stackframe.args,\r\n                            fileName: loc.source,\r\n                            lineNumber: loc.line,\r\n                            columnNumber: loc.column\r\n                        }));\r\n                } else {\r\n                    reject(new Error(\"Could not get original source for given stackframe and source map\"));\r\n                }\r\n            });\r\n        }\r\n        /**\r\n           * @constructor\r\n           * @param {Object} opts\r\n           *      opts.sourceCache = {url: \"Source String\"} => preload source cache\r\n           *      opts.sourceMapConsumerCache = {/path/file.js.map: SourceMapConsumer}\r\n           *      opts.offline = True to prevent network requests.\r\n           *              Best effort without sources or source maps.\r\n           *      opts.ajax = Promise returning function to make X-Domain requests\r\n           */\r\n        return function StackTraceGPS(opts) {\r\n            if (!(this instanceof StackTraceGPS)) {\r\n                return new StackTraceGPS(opts);\r\n            }\r\n            opts = opts || {};\r\n            this.sourceCache = opts.sourceCache || {};\r\n            this.sourceMapConsumerCache = opts.sourceMapConsumerCache || {};\r\n            this.ajax = opts.ajax || _xdr;\r\n            this._atob = opts.atob || _atob;\r\n\r\n            this._get = function _get(location) {\r\n                return new Promise(function (resolve, reject) {\r\n                    var isDataUrl = location.substr(0, 5) === \"data:\";\r\n                    if (this.sourceCache[location]) {\r\n                        resolve(this.sourceCache[location]);\r\n                    } else if (opts.offline && !isDataUrl) {\r\n                        reject(new Error(\"Cannot make network requests in offline mode\"));\r\n                    } else {\r\n                        if (isDataUrl) {\r\n                            // data URLs can have parameters.\r\n                            // see http://tools.ietf.org/html/rfc2397\r\n                            var supportedEncodingRegexp = /^data:application\\/json;([\\w=:\"-]+;)*base64,/;\r\n                            var match = location.match(supportedEncodingRegexp);\r\n                            if (match) {\r\n                                var sourceMapStart = match[0].length;\r\n                                var encodedSource = location.substr(sourceMapStart);\r\n                                var source = this._atob(encodedSource);\r\n                                this.sourceCache[location] = source;\r\n                                resolve(source);\r\n                            } else {\r\n                                reject(new Error(\"The encoding of the inline sourcemap is not supported\"));\r\n                            }\r\n                        } else {\r\n                            var xhrPromise = this.ajax(location, {\r\n                                method: \"get\"\r\n                            });\r\n                            // Cache the Promise to prevent duplicate in-flight requests\r\n                            this.sourceCache[location] = xhrPromise;\r\n                            xhrPromise.then(resolve, reject);\r\n                        }\r\n                    }\r\n                }.bind(this));\r\n            };\r\n            /**\r\n                 * Creating SourceMapConsumers is expensive, so this wraps the creation of a\r\n                 * SourceMapConsumer in a per-instance cache.\r\n                 *\r\n                 * @param {String} sourceMappingURL = URL to fetch source map from\r\n                 * @param {String} defaultSourceRoot = Default source root for source map if undefined\r\n                 * @returns {Promise} that resolves a SourceMapConsumer\r\n                 */\r\n            this._getSourceMapConsumer = function _getSourceMapConsumer(sourceMappingURL, defaultSourceRoot) {\r\n                return new Promise(function (resolve, reject) {\r\n                    if (this.sourceMapConsumerCache[sourceMappingURL]) {\r\n                        resolve(this.sourceMapConsumerCache[sourceMappingURL]);\r\n                    } else {\r\n                        var sourceMapConsumerPromise = new Promise(function (resolve, reject) {\r\n                            return this._get(sourceMappingURL).then(function (sourceMapSource) {\r\n                                if (typeof sourceMapSource === \"string\") {\r\n                                    sourceMapSource = _parseJson(sourceMapSource.replace(/^\\)\\]\\}'/, \"\"));\r\n                                }\r\n                                if (typeof sourceMapSource.sourceRoot === \"undefined\") {\r\n                                    sourceMapSource.sourceRoot = defaultSourceRoot;\r\n                                }\r\n                                resolve(new SourceMap.SourceMapConsumer(sourceMapSource));\r\n                            }, reject);\r\n                        }.bind(this));\r\n                        this.sourceMapConsumerCache[sourceMappingURL] = sourceMapConsumerPromise;\r\n                        resolve(sourceMapConsumerPromise);\r\n                    }\r\n                }.bind(this));\r\n            };\r\n            /**\r\n                 * Given a StackFrame, enhance function name and use source maps for a\r\n                 * better StackFrame.\r\n                 *\r\n                 * @param {StackFrame} stackframe object\r\n                 * @returns {Promise} that resolves with with source-mapped StackFrame\r\n                 */\r\n            this.pinpoint = function StackTraceGPS$$pinpoint(stackframe) {\r\n                return new Promise(function (resolve, reject) {\r\n                    this.getMappedLocation(stackframe).then(function (mappedStackFrame) {\r\n                        function resolveMappedStackFrame() {\r\n                            resolve(mappedStackFrame);\r\n                        }\r\n                        this.findFunctionName(mappedStackFrame).then(resolve, resolveMappedStackFrame)[\"catch\"](resolveMappedStackFrame);\r\n                    }.bind(this), reject);\r\n                }.bind(this));\r\n            };\r\n            /**\r\n                 * Given a StackFrame, guess function name from location information.\r\n                 *\r\n                 * @param {StackFrame} stackframe\r\n                 * @returns {Promise} that resolves with enhanced StackFrame.\r\n                 */\r\n            this.findFunctionName = function StackTraceGPS$$findFunctionName(stackframe) {\r\n                return new Promise(function (resolve, reject) {\r\n                    _ensureStackFrameIsLegit(stackframe);\r\n                    this._get(stackframe.fileName).then(function getSourceCallback(source) {\r\n                        var lineNumber = stackframe.lineNumber;\r\n                        var columnNumber = stackframe.columnNumber;\r\n                        var guessedFunctionName = _findFunctionName(source, lineNumber, columnNumber);\r\n                        // Only replace functionName if we found something\r\n                        if (guessedFunctionName) {\r\n                            resolve(new StackFrame({\r\n                                functionName: guessedFunctionName,\r\n                                args: stackframe.args,\r\n                                fileName: stackframe.fileName,\r\n                                lineNumber: lineNumber,\r\n                                columnNumber: columnNumber\r\n                            }));\r\n                        } else {\r\n                            resolve(stackframe);\r\n                        }\r\n                    }, reject)[\"catch\"](reject);\r\n                }.bind(this));\r\n            };\r\n            /**\r\n                 * Given a StackFrame, seek source-mapped location and return new enhanced StackFrame.\r\n                 *\r\n                 * @param {StackFrame} stackframe\r\n                 * @returns {Promise} that resolves with enhanced StackFrame.\r\n                 */\r\n            this.getMappedLocation = function StackTraceGPS$$getMappedLocation(stackframe) {\r\n                return new Promise(function (resolve, reject) {\r\n                    _ensureSupportedEnvironment();\r\n                    _ensureStackFrameIsLegit(stackframe);\r\n                    var sourceCache = this.sourceCache;\r\n                    var fileName = stackframe.fileName;\r\n                    this._get(fileName).then(function (source) {\r\n                        var sourceMappingURL = _findSourceMappingURL(source);\r\n                        var isDataUrl = sourceMappingURL.substr(0, 5) === \"data:\";\r\n                        var defaultSourceRoot = fileName.substring(0, fileName.lastIndexOf(\"/\") + 1);\r\n                        if (sourceMappingURL[0] !== \"/\" && !isDataUrl && !/^https?:\\/\\/|^\\/\\//i.test(sourceMappingURL)) {\r\n                            sourceMappingURL = defaultSourceRoot + sourceMappingURL;\r\n                        }\r\n                        return this._getSourceMapConsumer(sourceMappingURL, defaultSourceRoot).then(function (sourceMapConsumer) {\r\n                            return _extractLocationInfoFromSourceMapSource(stackframe, sourceMapConsumer, sourceCache).then(resolve)[\"catch\"](function () {\r\n                                resolve(stackframe);\r\n                            });\r\n                        });\r\n                    }.bind(this), reject)[\"catch\"](reject);\r\n                }.bind(this));\r\n            };\r\n        };\r\n    })(SourceMap, StackFrame);\r\n\r\n    //\r\n    // Shared Variables\r\n    //\r\n\r\n    var myScript = null;\r\n    var scriptFile = document.getElementsByTagName('script');\r\n    \r\n    for (var i = 0; i < scriptFile.length; ++i) {\r\n        if(isMe(scriptFile[i])) {\r\n            myScript = scriptFile[i];\r\n        }\r\n    }\r\n\r\n    var queryString = myScript != null ? myScript.src.replace(/^[^\\?]+\\??/, '') : null;\r\n    var params = parseQuery(queryString);\r\n    var paramsLength = objectLength(params);\r\n\r\n    var debugSettings = {\r\n        label: ' elmah.io debugger : On ',\r\n        labelCSS: 'background: #06a89c; color: #ffffff; display: inline-block; font-size: 14px;',\r\n        successCSS: 'background: #d4edda; color: #155724; display: inline-block; font-size: 13px;',\r\n        errorCSS: 'background: #f8d7da; color: #721c24; display: inline-block; font-size: 13px;',\r\n        warningCSS: 'background: #fff3cd; color: #856404; display: inline-block; font-size: 13px;',\r\n        lightCSS: 'background: #e2e3e5; color: #383d41; display: inline-block; font-size: 13px;'\r\n    };\r\n\r\n    var defaults = {\r\n        apiKey: null,\r\n        logId: null,\r\n        debug: false,\r\n        application: null,\r\n        filter: null,\r\n        captureConsoleMinimumLevel: 'none',\r\n        breadcrumbs: false,\r\n        breadcrumbsNumber: 10\r\n    };\r\n\r\n    var breadcrumbsDelay = 100;\r\n\r\n    //\r\n    // Shared Methods\r\n    //\r\n\r\n    var extend = function () {\r\n\r\n        // Variables\r\n        var extended = {};\r\n        var deep = false;\r\n        var i = 0;\r\n\r\n        // Check if a deep merge\r\n        if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\r\n            deep = arguments[0];\r\n            i++;\r\n        }\r\n\r\n        // Merge the object into the extended object\r\n        var merge = function (obj) {\r\n            for (var prop in obj) {\r\n                if (obj.hasOwnProperty(prop)) {\r\n                    // If property is an object, merge properties\r\n                    if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\r\n                        extended[prop] = extend(extended[prop], obj[prop]);\r\n                    } else {\r\n                        extended[prop] = obj[prop];\r\n                    }\r\n                }\r\n            }\r\n        };\r\n\r\n        // Loop through each object and conduct a merge\r\n        for (; i < arguments.length; i++) {\r\n            var obj = arguments[i];\r\n            merge(obj);\r\n        }\r\n\r\n        return extended;\r\n\r\n    };\r\n\r\n    //\r\n    // Helpers\r\n    //\r\n\r\n    function isMe(scriptElem){\r\n        if(scriptElem.getAttribute('src') != null) {\r\n            return scriptElem.getAttribute('src').indexOf('elmahio') != -1 && scriptElem.getAttribute('src').indexOf('apiKey') != -1 && scriptElem.getAttribute('src').indexOf('logId') != -1;\r\n        }\r\n    }\r\n\r\n    function isInt(n){\r\n        return Number(n) === n && n % 1 === 0;\r\n    }\r\n\r\n    function isFloat(n){\r\n        return Number(n) === n && n % 1 !== 0;\r\n    }\r\n\r\n    function parseQuery(query) {\r\n        var Params = new Object();\r\n        if (!query) return Params; // return empty object\r\n        var Pairs = query.split(/[;&]/);\r\n        for (var i = 0; i < Pairs.length; i++) {\r\n            var KeyVal = Pairs[i].split('=');\r\n            if (!KeyVal || KeyVal.length !== 2) continue;\r\n            var key = unescape(KeyVal[0]);\r\n            var val = unescape(KeyVal[1]);\r\n            val = val.replace(/\\+/g, ' ');\r\n            Params[key] = val;\r\n        }\r\n        return Params;\r\n    }\r\n\r\n    function objectLength(obj) {\r\n        var size = 0, key;\r\n        for (key in obj) {\r\n            if (obj.hasOwnProperty(key)) size++;\r\n        }\r\n        return size;\r\n    };\r\n\r\n    function getSearchParameters() {\r\n        var prmstr = window.location.search.substr(1);\r\n        return prmstr !== null && prmstr !== \"\" ? transformToAssocArray(prmstr) : {};\r\n    }\r\n\r\n    function transformToAssocArray(prmstr) {\r\n        var params = [];\r\n        var prmarr = prmstr.split(\"&\");\r\n        for (var i = 0; i < prmarr.length; i++) {\r\n            var tmparr = prmarr[i].split(\"=\");\r\n            params.push({\r\n                'key': tmparr[0],\r\n                'value': tmparr[1]\r\n            });\r\n        }\r\n        return params;\r\n    }\r\n\r\n    function merge_objects(obj1, obj2) {\r\n        var obj3 = {};\r\n        for (var attrname1 in obj1) {\r\n            obj3[attrname1] = obj1[attrname1];\r\n        }\r\n        for (var attrname2 in obj2) {\r\n            obj3[attrname2] = obj2[attrname2];\r\n        }\r\n\r\n        return obj3;\r\n    }\r\n\r\n    function isString(what) {\r\n        return Object.prototype.toString.call(what) === '[object String]';\r\n    }\r\n\r\n    function cssSelectorString(elem) {\r\n        var MAX_TRAVERSE_HEIGHT = 5,\r\n            MAX_OUTPUT_LEN = 80,\r\n            out = [],\r\n            height = 0,\r\n            len = 0,\r\n            separator = ' > ',\r\n            sepLength = separator.length,\r\n            nextStr;\r\n        while (elem && height++ < MAX_TRAVERSE_HEIGHT) {\r\n            nextStr = htmlElementAsString(elem);\r\n            if (nextStr === 'html' || (height > 1 && len + out.length * sepLength + nextStr.length >= MAX_OUTPUT_LEN)) {\r\n                break;\r\n            }\r\n            out.push(nextStr);\r\n            len += nextStr.length;\r\n            elem = elem.parentNode;\r\n        }\r\n        return out.reverse().join(separator);\r\n    }\r\n      \r\n    function htmlElementAsString(elem) {\r\n        var out = [], className, classes, key, attr, i;\r\n        if (!elem || !elem.tagName) {\r\n            return '';\r\n        }\r\n        out.push(elem.tagName.toLowerCase());\r\n        if (elem.id) {\r\n            out.push('#' + elem.id);\r\n        }\r\n        className = elem.className;\r\n        if (className && isString(className)) {\r\n            classes = className.split(/\\s+/);\r\n            for (i = 0; i < classes.length; i++) {\r\n                out.push('.' + classes[i]);\r\n            }\r\n        }\r\n        var attrWhitelist = ['type', 'name', 'title', 'alt'];\r\n        for (i = 0; i < attrWhitelist.length; i++) {\r\n            key = attrWhitelist[i];\r\n            attr = elem.getAttribute(key);\r\n            if (attr) {\r\n                out.push('[' + key + '=\"' + attr + '\"]');\r\n            }\r\n        }\r\n        return out.join('');\r\n    }\r\n\r\n    var parseHash = function(url) {\r\n        return url.split('#')[1] || '';\r\n    };\r\n\r\n    //\r\n    // Constructor\r\n    //\r\n\r\n    var Constructor = function (options) {\r\n\r\n        //\r\n        // Variables\r\n        //\r\n\r\n        var publicAPIs = {};\r\n        var settings;\r\n        var breadcrumbs = [];\r\n        var lastHref = window.location && window.location.href;\r\n\r\n        function getPayload() {\r\n            var payload = {\r\n                \"url\": document.location.pathname || '/',\r\n                \"application\": settings.application\r\n            };\r\n\r\n            var payload_data = [];\r\n\r\n            if (document.documentMode) payload_data.push({ \"key\": \"Document-Mode\", \"value\": document.documentMode });\r\n            if (window.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName('body')[0].clientWidth) payload_data.push({ \"key\": \"Browser-Width\", \"value\": window.innerWidth || document.documentElement.clientWidth || document.getElementsByTagName('body')[0].clientWidth });\r\n            if (window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight) payload_data.push({ \"key\": \"Browser-Height\", \"value\": window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight });\r\n            if ((screen.msOrientation || (screen.orientation || screen.mozOrientation || {}).type) !== undefined) payload_data.push({ \"key\": \"Screen-Orientation\", \"value\": ((screen.msOrientation || (screen.orientation || screen.mozOrientation || {}).type).split(\"-\"))[0] });\r\n            if (screen.width) payload_data.push({ \"key\": \"Screen-Width\", \"value\": screen.width });\r\n            if (screen.height) payload_data.push({ \"key\": \"Screen-Height\", \"value\": screen.height });\r\n            if (screen.colorDepth) payload_data.push({ \"key\": \"Color-Depth\", \"value\": screen.colorDepth });\r\n            payload_data.push({ \"key\": \"X-ELMAHIO-SEARCH-isClientside\", \"value\": \"true\" });\r\n\r\n            payload.data = payload_data;\r\n\r\n            var payload_serverVariables = [];\r\n            if (navigator.language) payload_serverVariables.push({ \"key\": \"User-Language\", \"value\": navigator.language });\r\n            if (navigator.userAgent) payload_serverVariables.push({ \"key\": \"User-Agent\", \"value\": navigator.userAgent });\r\n            if (navigator.userAgentData) {\r\n                if (navigator.userAgentData.brands) {\r\n                    const brandsValue = navigator.userAgentData.brands.map(b => '\"'+ b.brand +'\";v=\"'+ b.version +'\"').join(\", \"); \r\n                    payload_serverVariables.push({ \"key\": \"sec-ch-ua\", \"value\": brandsValue });\r\n                }\r\n                if (navigator.userAgentData.mobile !== undefined) {\r\n                    payload_serverVariables.push({ \"key\": \"sec-ch-ua-mobile\", \"value\": navigator.userAgentData.mobile ? \"?1\" : \"?0\" });\r\n                }\r\n                if (navigator.userAgentData.platform) {\r\n                    payload_serverVariables.push({ \"key\": \"sec-ch-ua-platform\", \"value\": '\"' + navigator.userAgentData.platform + '\"' });\r\n                }\r\n            }\r\n            if (document.referrer) payload_serverVariables.push({ \"key\": \"Referer\", \"value\": document.referrer });\r\n            if (document.location.protocol === \"https:\") payload_serverVariables.push({ \"key\": \"HTTPS\", \"value\": 'on' });\r\n            if (document.location.hostname) payload_serverVariables.push({ \"key\": \"Host\", \"value\": document.location.hostname });\r\n\r\n            payload.serverVariables = payload_serverVariables;\r\n\r\n            return payload;\r\n        }\r\n\r\n        function confirmResponse(status, response) {\r\n            if (settings.debug) {\r\n                if (status === 'error') {\r\n                    console.log('%c \\u2BC8 Error log: ' + '%c \\u2715 Not created ', debugSettings.lightCSS, debugSettings.errorCSS);\r\n                } else if (status === 'success') {\r\n                    console.log('%c \\u2BC8 Error log: ' + '%c \\u2714 ' + response + ' at ' + new Date().toLocaleString() + ' ', debugSettings.lightCSS, debugSettings.successCSS);\r\n                } else {\r\n                    console.log('%c \\u2BC8 Error log: ' + '%c \\u2715 Not created. Title should not be undefined, null or empty ! ', debugSettings.lightCSS, debugSettings.errorCSS);\r\n                }\r\n            }\r\n        }\r\n\r\n        function generateErrorObject(error) {\r\n            return {\r\n                error: error,\r\n                type: error.name,\r\n                message: error.message,\r\n                inner: error.cause && typeof error.cause === \"object\" && error.cause instanceof Error ? generateErrorObject(error.cause) : []\r\n            }\r\n        }\r\n\r\n        function getErrorTypeSource(error) {\r\n            var object = generateErrorObject(error);\r\n            var type = null;\r\n            var source = null;\r\n\r\n            function iterateObj(obj) {\r\n                Object.keys(obj).forEach(function(key){\r\n                    if (key === \"error\") {\r\n                        if (objectLength(obj[key].stack) !== 0) {\r\n                            var stack = obj[key] ? ErrorStackParser.parse(obj[key]) : null;\r\n                            source = stack && stack.length > 0 ? stack[0].fileName : null;\r\n                        }\r\n                    }\r\n                    if (key === \"type\") {\r\n                        type = obj[key];\r\n                    }\r\n                    if (key === \"inner\" && obj[key].length !== 0) {\r\n                        iterateObj(obj[key]);\r\n                    }\r\n                });\r\n            }\r\n\r\n            iterateObj(object);\r\n\r\n            return { type: type, source: source };\r\n        }\r\n\r\n        function GenerateNewFrames(errorMessage, newFrames, cause, fileName) {\r\n            var lastInnerFileName = null;\r\n\r\n            newFrames.forEach(function(stackFrame, i) {\r\n                if (stackFrame.functionName) {\r\n                    var fn = stackFrame.functionName + ' ';\r\n                } else {\r\n                    var fn = '';\r\n                }\r\n                var stackString = '    at ' + fn + '(' + stackFrame.fileName + ':' + stackFrame.lineNumber + ':' + stackFrame.columnNumber + ')';\r\n                newFrames[i] = stackString;\r\n                if (i === 0) {\r\n                    lastInnerFileName = stackFrame.fileName || null;\r\n                }\r\n            });\r\n    \r\n            if (!cause) {\r\n                newFrames.unshift(errorMessage);\r\n            } else {\r\n                newFrames.unshift(\"\\nCaused by: \" + errorMessage);\r\n            }\r\n\r\n            if (fileName) {\r\n                return {\r\n                    newFrames: newFrames,\r\n                    fileName: lastInnerFileName\r\n                }\r\n            }\r\n    \r\n            return newFrames;\r\n        }\r\n\r\n        function GPSPromise(stackframes) {\r\n            if (stackframes) {\r\n                var gps = new StackTraceGPS();\r\n\r\n                return new Promise(function(resolve) {\r\n                    resolve(Promise.all(stackframes.map(function(sf) {\r\n                        return new Promise(function(resolve) {\r\n                            function resolveOriginal() {\r\n                                resolve(sf);\r\n                            }\r\n                            gps.pinpoint(sf).then(resolve, resolveOriginal)['catch'](resolveOriginal);\r\n                        });\r\n                    })));\r\n                });\r\n            }\r\n\r\n            return new Promise(function(resolve) {\r\n                return resolve([]);\r\n            });\r\n        }\r\n\r\n        function stackGPS(error, xhr, jsonData) {\r\n            var object = generateErrorObject(error);\r\n            var messagesArr = [];\r\n            var promiseArr = [];\r\n\r\n            function iterateObj(obj) {\r\n                Object.keys(obj).forEach(function(key){\r\n                    if (key === \"error\") {\r\n                        if (objectLength(obj[key].stack) !== 0) {\r\n                            messagesArr.push(obj[key].toString().split(\"\\n\")[0]);\r\n                            promiseArr.push(GPSPromise(ErrorStackParser.parse(obj[key])));\r\n                        }\r\n                    }\r\n                    if (key === \"inner\" && obj[key].length !== 0) {\r\n                        iterateObj(obj[key]);\r\n                    }\r\n                });\r\n            }\r\n\r\n            iterateObj(object);\r\n\r\n            Promise.all(promiseArr).then((values) => {\r\n                values.forEach(function(stackframe, index) {\r\n                    if (index === 0) {\r\n                        jsonData.detail = GenerateNewFrames(messagesArr[index], stackframe, false).join(\"\\n\");\r\n                    } else {\r\n                        jsonData.detail += GenerateNewFrames(messagesArr[index], stackframe, true).join(\"\\n\");\r\n                    }\r\n                });\r\n            }).then(function() {\r\n                xhr.send(JSON.stringify(jsonData));\r\n            });\r\n        }\r\n\r\n        function stackString(error) {\r\n        \tvar typeOF = typeof error.error;\r\n        \tvar typeOFCapitalized = typeOF.charAt(0).toUpperCase() + typeOF.slice(1);\r\n\r\n        \treturn typeOFCapitalized + ': ' + error.error + '\\n' + '    at ' + '(' + error.source + ':' + error.lineno + ':' + error.colno + ')';\r\n        }\r\n\r\n        function manipulateStack (errorStack, severity, message) {\r\n            var stack = [];\r\n            for (var i = 0; i < errorStack.length; i++) {\r\n                if(errorStack[i] === \"Error\") {\r\n                    stack.push(severity + \": \" + message);\r\n                }\r\n                if(!errorStack[i].match(/elmahio.js|elmahio.min.js/g) && errorStack[i] !== \"Error\") {\r\n                    stack.push(errorStack[i]);\r\n                }\r\n            }\r\n            return stack.join('\\n');\r\n        }\r\n\r\n        function guid() {\r\n            var s4 = function() {\r\n                return Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1).toUpperCase();\r\n            }\r\n            return s4() + s4();\r\n        }\r\n\r\n        function inspectorObj (error, fullError) {\r\n            var obj = {};\r\n            obj.Id = guid();\r\n\r\n            if (typeof error === \"object\" && error !== null) {\r\n                var stack = error && objectLength(error.stack) !== 0 && typeof error === \"object\" ? ErrorStackParser.parse(error) : '';\r\n                obj.Type = error.name || null;\r\n                obj.Message = error.message || null;\r\n                obj.StackTrace = objectLength(error.stack) !== 0 ? ErrorStackParser.parse(error) : null;\r\n                obj.Source = stack && stack.length > 0 ? stack[0].fileName : null;\r\n                obj.Inners = error.cause && typeof error.cause === \"object\" && error.cause instanceof Error ? [inspectorObj(error.cause)] : [];\r\n\r\n                if (error.cause && obj.Inners instanceof Array && obj.Inners.length === 0) {\r\n                    if (typeof error.cause === \"number\" || typeof error.cause === \"string\" || typeof error.cause === \"boolean\") {\r\n                        obj.ExceptionSpecific = [{ key: \"cause\", value: error.cause }];\r\n                    }\r\n                    if (typeof error.cause === \"bigint\") {\r\n                        obj.ExceptionSpecific = [{ key: \"cause\", value: error.cause.toString() + \"n\" }];\r\n                    }\r\n                    if (typeof error.cause === \"symbol\") {\r\n                        obj.ExceptionSpecific = [{ key: \"cause\", value: error.cause.toString() }];\r\n                    }\r\n                    if (typeof error.cause === \"object\") {\r\n                        if (!(Object.keys(obj).length === 0 && obj.constructor === Object)) {\r\n                            let objEntries = [];\r\n                            for (const [key, value] of Object.entries(error.cause)) {\r\n                                if (typeof value === \"number\" || typeof value === \"string\" || typeof value === \"boolean\") {\r\n                                    objEntries.push({ key: key, value: value });\r\n                                }\r\n                                if (typeof value === \"bigint\") {\r\n                                    objEntries.push({ key: key, value: value.toString() + \"n\" });\r\n                                }\r\n                                if (typeof value === \"symbol\") {\r\n                                    objEntries.push({ key: key, value: value.toString() });\r\n                                }\r\n                            }\r\n                            obj.ExceptionSpecific = objEntries;\r\n                        }\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                obj.Type = typeof fullError.error || null;\r\n                obj.Message = fullError.message || null;\r\n                obj.StackTrace = stackString(fullError);\r\n                obj.Source = fullError.source || null;\r\n                obj.Inners = [];\r\n            }\r\n\r\n            return obj;\r\n        }\r\n\r\n        function inspectorGPS (error) {\r\n            var inspectorObject = inspectorObj(error);\r\n            var promiseArr = [];\r\n\r\n            function iterateObj(obj, final) {\r\n                Object.keys(obj).forEach(function(key){\r\n                    if (key === \"StackTrace\") {\r\n                        if (!final) {\r\n                            obj[key] = GPSPromise(obj[key]);\r\n                            promiseArr.push(obj[key]);\r\n                        } else {\r\n                            obj[key].then(result => {\r\n                                var generateNewFrames = GenerateNewFrames(obj.Type + ': ' + obj.Message, result, false, true);\r\n                                obj[key] = generateNewFrames.newFrames.join(\"\\n\");\r\n                                obj['Source'] = generateNewFrames.fileName || null;\r\n                            });\r\n                        }\r\n                    }\r\n                    if (key === \"Inners\" && obj[key].length !== 0) {\r\n                        iterateObj(obj[key][0], final);\r\n                    }\r\n                });\r\n            }\r\n\r\n            iterateObj(inspectorObject, false);\r\n\r\n            return new Promise(function(resolve, reject) {\r\n                Promise.all(promiseArr).then(function(values) {\r\n                    iterateObj(inspectorObject, true);\r\n                }).then(function() {\r\n                    resolve(inspectorObject);\r\n                });\r\n            });\r\n        }\r\n\r\n        // Private methods\r\n\r\n        var recordBreadcrumb = function(obj) {\r\n            var crumb = merge_objects({'dateTime': new Date().toISOString()}, obj),\r\n                breadcrumbs_number = 10;\r\n  \r\n            breadcrumbs.push(crumb);\r\n  \r\n            if(options.breadcrumbsNumber >= 0 && typeof options.breadcrumbsNumber === \"number\" ) {\r\n                if(options.breadcrumbsNumber > 25) {\r\n                    breadcrumbs_number = 25;\r\n                } else if(options.breadcrumbsNumber <= 25) {\r\n                    breadcrumbs_number = options.breadcrumbsNumber;\r\n                }\r\n            }\r\n  \r\n            if (breadcrumbs.length > breadcrumbs_number) {\r\n                breadcrumbs.shift();\r\n            }\r\n        }\r\n\r\n        var breadcrumbClickEventHandler = function(evt) {\r\n            var target;\r\n            try {\r\n                target = cssSelectorString(evt.target);\r\n            } catch (e) {\r\n                target = \"<unknown_target>\";\r\n            }\r\n\r\n            recordBreadcrumb({\r\n                \"severity\": \"Information\",\r\n                \"action\": \"Click\",\r\n                \"message\": target\r\n            });\r\n        }\r\n\r\n        var breadcrumbFormSubmitEventHandler = function(evt) {\r\n            var target;\r\n            try {\r\n                target = cssSelectorString(evt.target);\r\n            } catch (e) {\r\n                target = \"<unknown_target>\";\r\n            }\r\n\r\n            recordBreadcrumb({\r\n                \"severity\": \"Information\",\r\n                \"action\": \"Form submit\",\r\n                \"message\": target\r\n            });\r\n        }\r\n\r\n        var breadcrumbWindowEventHandler = function(evt) {\r\n            var type = evt.type,\r\n                message = null;\r\n\r\n            switch (type) {\r\n                case \"load\":\r\n                    message = \"Page loaded\"; break;\r\n                case \"DOMContentLoaded\":\r\n                    message = \"DOMContentLoaded\"; break;\r\n                case \"pageshow\":\r\n                    message = \"Page shown\"; break;\r\n                case \"pagehide\":\r\n                    message = \"Page hidden\"; break;\r\n                case \"popstate\":\r\n                    message = \"Navigated from: \" + lastHref + \" to: \" + window.location.href; break;\r\n            }\r\n\r\n            recordBreadcrumb({\r\n                \"severity\": \"Information\",\r\n                \"action\": \"Navigation\",\r\n                \"message\": message\r\n            });\r\n        }\r\n\r\n        var breadcrumbHashChangeEventHandler = function(evt) {\r\n            var oldURL = evt.oldURL,\r\n                newURL = evt.newURL,\r\n                from = null,\r\n                to = null,\r\n                message = null;\r\n\r\n            if (oldURL && newURL) {\r\n                from = parseHash(oldURL);\r\n                to = parseHash(newURL);\r\n                message = \"from: '\" + from + \"' to: '\" + to + \"'\";\r\n            } else {\r\n                to = location.hash;\r\n                message = \"to: '\" + to + \"'\";\r\n            }\r\n\r\n            recordBreadcrumb({\r\n                \"severity\": \"Information\",\r\n                \"action\": \"Navigation\",\r\n                \"message\": \"Hash changed \" + message\r\n            });\r\n        }\r\n\r\n        var breadcrumbXHRHandler = function(evt, method, url) {\r\n            var status = evt && evt.target ? evt.target.status : 0,\r\n                severity = null,\r\n                method = method.toUpperCase(),\r\n                url = url,\r\n                regex = /https:\\/\\/api.elmah.io/g;\r\n\r\n            if(url.match(regex) == null) { \r\n                if (status > 0 && status < 400) {\r\n                    severity = \"Information\";\r\n                } else if (status > 399 && status < 500) {\r\n                    severity = \"Warning\";\r\n                } else if (status >= 500) {\r\n                    severity = \"Error\";\r\n                }\r\n\r\n                var statusCode = status > 0 ? \" (\" + status + \")\" : \"\";\r\n\r\n                recordBreadcrumb({\r\n                    \"severity\": severity,\r\n                    \"action\": \"Request\",\r\n                    \"message\": \"[\" + method + \"] \" + url + statusCode\r\n                });\r\n            }\r\n        }\r\n\r\n        var sendPayload = function (apiKey, logId, callback, errorLog) {\r\n            var api_key = apiKey,\r\n                log_id = logId,\r\n                error = errorLog,\r\n                send = 1,\r\n                queryParams = getSearchParameters(),\r\n                stack = error.error && objectLength(error.error.stack) !== 0 && typeof error.error === \"object\" ? ErrorStackParser.parse(error.error) : '';\r\n\r\n            // Ignoring error from an external script\r\n            if (error && error.colno === 0 && error.lineno === 0 && (!stack || stack === '') && error.message && (error.message === \"Script error.\" || error.message === \"Script error\")) {\r\n\t\t\t    if (settings.debug) {\r\n\t\t\t        console.log('%c \\u2BC8 Error log: ' + '%c \\uD83D\\uDEC8 Ignoring error from external script ', debugSettings.lightCSS, debugSettings.warningCSS);\r\n\t\t\t    }\r\n\t\t\t    return;\r\n\t\t\t}\r\n\r\n            if ((api_key !== null && log_id !== null) || (paramsLength === 2)) {\r\n\r\n                // Priority for parameters\r\n                if (params.hasOwnProperty('apiKey') && params.hasOwnProperty('logId')) {\r\n                    api_key = params['apiKey'];\r\n                    log_id = params['logId'];\r\n                }\r\n\r\n                // get new XHR object\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open(\"POST\", \"https://api.elmah.io/v3/messages/\" + log_id + \"?api_key=\" + api_key, true);\r\n\r\n                xhr.setRequestHeader('Content-type', 'application/json');\r\n\r\n                xhr.onload = function (e) {\r\n                    if (xhr.readyState === 4) {\r\n                        if (xhr.status === 201) {\r\n                            callback('success', xhr.statusText);\r\n                        }\r\n\r\n                        if(xhr.status >= 400 && xhr.status <= 499) {\r\n                            callback('error', xhr.statusText);\r\n\r\n                            // on error event\r\n                            publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                xhr.onerror = function (e) {\r\n                    callback('error', xhr.statusText);\r\n\r\n                    // on error event\r\n                    publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                }\r\n\r\n                var jsonData = {\r\n                    \"detail\": error.error ? error.error.stack : null,\r\n                    \"title\": error.message || 'Unspecified error',\r\n                    \"source\": stack && stack.length > 0 ? stack[0].fileName : null,\r\n                    \"severity\": \"Error\",\r\n                    \"type\": error.error ? error.error.name : null,\r\n                    \"queryString\": JSON.parse(JSON.stringify(queryParams))\r\n                };\r\n\r\n                // Check if error sent is a string and not an object\r\n                // Then create the articifial stacktrace and pass source & type of the error\r\n                if(error.error && (objectLength(error.error.stack) === 0) && typeof jsonData.detail === \"undefined\") {\r\n                \tvar typeOF = typeof errorLog.error;\r\n        \t\t\tvar typeOFCapitalized = typeOF.charAt(0).toUpperCase() + typeOF.slice(1);\r\n\r\n                \tjsonData.detail = stackString(errorLog);\r\n                \tjsonData.source = errorLog.source;\r\n                    jsonData.title = \"Uncaught \" + typeOFCapitalized + \": \" + errorLog.error;\r\n                }\r\n\r\n                // Check if the error sent has a cause\r\n                // Then change the type and source with the most inner error type\r\n                if(error.error && error.error.cause && typeof error.error.cause === \"object\" && error.error.cause instanceof Error) {\r\n                    var typeAndSource = getErrorTypeSource(error.error);\r\n                    jsonData.type = typeAndSource.type;\r\n                    jsonData.source = typeAndSource.source;\r\n                }\r\n\r\n                // Add payload to jsonData\r\n                jsonData = merge_objects(jsonData, getPayload());\r\n\r\n                // Add breadcrumbs to jsonData\r\n                if(breadcrumbs.length > 0) {\r\n                    jsonData.breadcrumbs = breadcrumbs;\r\n                    breadcrumbs = [];\r\n                }\r\n\r\n                // filter callback\r\n                if (settings.filter !== null) {\r\n                    if (settings.filter(jsonData)) {\r\n                        send = 0;\r\n                    }\r\n                }\r\n\r\n                if (send === 1) {\r\n                    // on message event\r\n                    publicAPIs.emit('message', jsonData);\r\n\r\n                    if (error.error && typeof error.error === \"object\" && objectLength(error.error.stack) !== 0 && typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1) {\r\n                        // try to pinpoint stackframes from error object\r\n                        inspectorGPS(error.error).then((result) => {\r\n                            // Add inspector to jsonData\r\n                            jsonData.data.push({ \"key\": \"X-ELMAHIO-EXCEPTIONINSPECTOR\", \"value\": JSON.stringify(result) });\r\n                            // send message trying to pinpoint stackframes\r\n                            stackGPS(error.error, xhr, jsonData);\r\n                        });\r\n\t                } else {\r\n                        // Add inspector to jsonData\r\n                        if (jsonData.detail) {\r\n                            jsonData.data.push({ \"key\": \"X-ELMAHIO-EXCEPTIONINSPECTOR\", \"value\": JSON.stringify(inspectorObj(error.error, errorLog)) });\r\n                        }\r\n\r\n                        // send message\r\n                    \txhr.send(JSON.stringify(jsonData));\r\n\t                }\r\n                }\r\n\r\n            } else {\r\n                return console.log('Login api error');\r\n            }\r\n        };\r\n\r\n        var sendManualPayload = function (apiKey, logId, callback, logType, messageLog, errorLog) {\r\n            var api_key = apiKey,\r\n                log_id = logId,\r\n                type = logType,\r\n                error = errorLog,\r\n                message = messageLog,\r\n                send = 1,\r\n                queryParams = getSearchParameters();\r\n\r\n            if ((api_key !== null && log_id !== null) || (paramsLength === 2)) {\r\n\r\n                // Priority for parameters\r\n                if (params.hasOwnProperty('apiKey') && params.hasOwnProperty('logId')) {\r\n                    api_key = params['apiKey'];\r\n                    log_id = params['logId'];\r\n                }\r\n\r\n                // get new XHR object\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open(\"POST\", \"https://api.elmah.io/v3/messages/\" + log_id + \"?api_key=\" + api_key, true);\r\n                xhr.setRequestHeader('Content-type', 'application/json');\r\n\r\n                xhr.onload = function (e) {\r\n                    if (xhr.readyState === 4) {\r\n                        if (xhr.status === 201) {\r\n                            callback('success', xhr.statusText);\r\n                        }\r\n\r\n                        if(xhr.status >= 400 && xhr.status <= 499) {\r\n                            callback('error', xhr.statusText);\r\n\r\n                            // on error event\r\n                            publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                xhr.onerror = function (e) {\r\n                    callback('error', xhr.statusText);\r\n\r\n                    // on error event\r\n                    publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                }\r\n\r\n                if (type !== \"Log\") {\r\n\r\n                    var stack = error && error instanceof Error && objectLength(error.stack) !== 0 ? ErrorStackParser.parse(error) : null;\r\n\r\n                    var jsonData = {\r\n                        \"title\": message,\r\n                        \"source\": stack && stack.length > 0 ? stack[0].fileName : null,\r\n                        \"detail\": error ? error.stack : null,\r\n                        \"severity\": type,\r\n                        \"type\": error ? error.name : null,\r\n                        \"queryString\": JSON.parse(JSON.stringify(queryParams))\r\n                    };\r\n\r\n                    // Check if the error sent has a cause\r\n                    // Then change the type and source with the most inner error type\r\n                    if(error && error.cause && typeof error.cause === \"object\" && error.cause instanceof Error) {\r\n                        var typeAndSource = getErrorTypeSource(error);\r\n                        jsonData.type = typeAndSource.type;\r\n                        jsonData.source = typeAndSource.source;\r\n                    }\r\n\r\n                    // Add payload to jsonData\r\n                    jsonData = merge_objects(jsonData, getPayload());\r\n\r\n                } else {\r\n\r\n                    var jsonData = error;\r\n                    \r\n                }\r\n\r\n                // filter callback\r\n                if (settings.filter !== null) {\r\n                    if (settings.filter(jsonData)) {\r\n                        send = 0;\r\n                    }\r\n                }\r\n\r\n                if (send === 1) {\r\n                    if (jsonData.title) {\r\n\r\n                        // Add breadcrumbs to jsonData\r\n                        if(breadcrumbs.length > 0) {\r\n                            // If message contains breadcrumbs\r\n                            if(jsonData.breadcrumbs && jsonData.breadcrumbs.length > 0) {\r\n                                breadcrumbs = breadcrumbs.reverse();\r\n                                for (var i = 0; i < breadcrumbs.length; i++) {\r\n                                    // Add breadcrumbs to jsonData object\r\n                                    jsonData.breadcrumbs.unshift(breadcrumbs[i]);\r\n                                }\r\n                            } else {\r\n                                jsonData.breadcrumbs = breadcrumbs;\r\n                            }\r\n                            \r\n                            // Reset breadcrumbs\r\n                            breadcrumbs = [];\r\n                        }\r\n\r\n                        // on message event\r\n                        publicAPIs.emit('message', jsonData);\r\n\r\n                        if (error && error instanceof Error && type !== \"Log\" && typeof Promise !== \"undefined\" && Promise.toString().indexOf(\"[native code]\") !== -1) {\r\n                            // try to pinpoint stackframes from error object\r\n                            inspectorGPS(error).then((result) => {\r\n                                // Add inspector to jsonData\r\n                                jsonData.data.push({ \"key\": \"X-ELMAHIO-EXCEPTIONINSPECTOR\", \"value\": JSON.stringify(result) });\r\n                                // send message trying to pinpoint stackframes\r\n                                stackGPS(error, xhr, jsonData);\r\n                            });\r\n                        } else {\r\n                            // send message\r\n                            if(jsonData.errorObject && jsonData.errorObject instanceof Error) {\r\n                                error = jsonData.errorObject;\r\n                                delete jsonData.errorObject;\r\n                                // try to pinpoint stackframes from error object\r\n                                inspectorGPS(error).then((result) => {\r\n                                    // Add inspector to jsonData\r\n                                    jsonData.data.push({ \"key\": \"X-ELMAHIO-EXCEPTIONINSPECTOR\", \"value\": JSON.stringify(result) });\r\n                                    // send message trying to pinpoint stackframes\r\n                                    stackGPS(error, xhr, jsonData);\r\n                                });\r\n                            } else {\r\n                                delete jsonData.errorObject;\r\n                                xhr.send(JSON.stringify(jsonData));\r\n                            }\r\n                        }\r\n\r\n                    } else {\r\n                        callback('missing-title', xhr.statusText);\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                return console.log('Login api error');\r\n            }\r\n        };\r\n\r\n        var sendPayloadFromConsole = function (apiKey, logId, callback, logType, errorLog) {\r\n            var api_key = apiKey,\r\n                log_id = logId,\r\n                message = errorLog.message,\r\n                messageTemplate = errorLog.message,\r\n                type = logType,\r\n                args = Object.values(errorLog.arguments),\r\n                send = 1,\r\n                queryParams = getSearchParameters();\r\n\r\n            function format(f, args) {\r\n                var formatRegExp = /%[sdif]/g;\r\n                var str = f;\r\n\r\n                if(args.length > 1) {\r\n                    // If message has placeholders (%s, %d, %i, %f), check for arguments and replace them\r\n                    if(String(f).match(/%[sdif]/g)) {\r\n                        var i = 0;\r\n                        str = String(f).replace(formatRegExp, function(x) {\r\n                            switch (x) {\r\n                                case '%s': i++; return args[i] ? String(args[i]) : '%s';\r\n                                case '%d': i++; return args[i] ? (isInt(args[i]) || isFloat(args[i])) ? parseInt(args[i]) : 'NaN' : '%d';\r\n                                case '%i': i++; return args[i] ? (isInt(args[i]) || isFloat(args[i])) ? parseInt(args[i]) : 'NaN' : '%i';\r\n                                case '%f': i++; return args[i] ? (isInt(args[i]) || isFloat(args[i])) ? parseFloat(args[i]) : 'NaN' : '%f';\r\n                                default: return x;\r\n                            }\r\n                        });\r\n\r\n                        for (var len = args.length, x = args[++i]; i < len; x = args[++i]) {\r\n                            if (x === null || typeof x !== 'object') {\r\n                                str += ' ' + x;\r\n                            } else {\r\n                                str += ' ' + String(Object.prototype.toString.call(x));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        str = args.join(' ');\r\n                    }\r\n                }\r\n\r\n                return str;\r\n            }\r\n\r\n            message = format(message, args);\r\n\r\n            if(typeof message !== \"string\" && message !== undefined){\r\n                message = message.toString();\r\n            }\r\n\r\n            if(typeof messageTemplate !== \"string\" && messageTemplate !== undefined) {\r\n                messageTemplate = messageTemplate.toString();\r\n            }\r\n\r\n            if ((api_key !== null && log_id !== null) || (paramsLength === 2)) {\r\n\r\n                // Priority for parameters\r\n                if (params.hasOwnProperty('apiKey') && params.hasOwnProperty('logId')) {\r\n                    api_key = params['apiKey'];\r\n                    log_id = params['logId'];\r\n                }\r\n\r\n                // get new XHR object\r\n                var xhr = new XMLHttpRequest();\r\n                xhr.open(\"POST\", \"https://api.elmah.io/v3/messages/\" + log_id + \"?api_key=\" + api_key, true);\r\n                xhr.setRequestHeader('Content-type', 'application/json');\r\n\r\n                xhr.onload = function (e) {\r\n                    if (xhr.readyState === 4) {\r\n                        if (xhr.status === 201) {\r\n                            callback('success', xhr.statusText);\r\n                        }\r\n\r\n                        if(xhr.status >= 400 && xhr.status <= 499) {\r\n                            callback('error', xhr.statusText);\r\n\r\n                            // on error event\r\n                            publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                        }\r\n                    }\r\n                };\r\n\r\n                xhr.onerror = function (e) {\r\n                    callback('error', xhr.statusText);\r\n                    // on error event\r\n                    publicAPIs.emit('error', xhr.status, xhr.statusText);\r\n                }\r\n\r\n                var jsonData = {\r\n                    \"title\": message,\r\n                    \"titleTemplate\": messageTemplate,\r\n                    \"detail\": manipulateStack(new Error().stack.split('\\n'), type, message),\r\n                    \"severity\": type,\r\n                    \"type\": null,\r\n                    \"queryString\": JSON.parse(JSON.stringify(queryParams))\r\n                };\r\n\r\n                // Add payload to jsonData\r\n                jsonData = merge_objects(jsonData, getPayload());\r\n\r\n                // Add breadcrumbs to jsonData\r\n                if(breadcrumbs.length > 0) {\r\n                    jsonData.breadcrumbs = breadcrumbs;\r\n                    breadcrumbs = [];\r\n                }\r\n\r\n                // filter callback\r\n                if (settings.filter !== null) {\r\n                    if (settings.filter(jsonData)) {\r\n                        send = 0;\r\n                    }\r\n                }\r\n\r\n                if (send === 1) {\r\n                    if (jsonData.title) {\r\n                        // on message event\r\n                        publicAPIs.emit('message', jsonData);\r\n                        // send message\r\n                        xhr.send(JSON.stringify(jsonData));\r\n                    } else {\r\n                        callback('missing-title', xhr.statusText);\r\n                    }\r\n                }\r\n\r\n            } else {\r\n                return console.log('Login api error');\r\n            }\r\n        };\r\n\r\n        var sendPrefilledLogMessage = function(errorLog) {\r\n            // without error object\r\n            if(!errorLog) return getPayload();\r\n\r\n            // with error object\r\n            var error = errorLog;\r\n            var stack = error && objectLength(error.stack) !== 0 ? ErrorStackParser.parse(error) : null;\r\n            var jsonData = {\r\n                \"title\": error.message,\r\n                \"source\": stack && stack.length > 0 ? stack[0].fileName : null,\r\n                \"detail\": error ? error.stack : null,\r\n                \"severity\": \"Error\",\r\n                \"type\": error ? error.name : null,\r\n                \"errorObject\": error\r\n            };\r\n\r\n            // Check if the error sent has a cause\r\n            // Then change the type and source with the most inner error type\r\n            if(error && error.cause && typeof error.cause === \"object\" && error.cause instanceof Error) {\r\n                var typeAndSource = getErrorTypeSource(error);\r\n                jsonData.type = typeAndSource.type;\r\n                jsonData.source = typeAndSource.source;\r\n            }\r\n\r\n            jsonData = merge_objects(jsonData, getPayload());\r\n            \r\n            return jsonData;\r\n        };\r\n\r\n        // Some public methods\r\n\r\n        publicAPIs.error = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Error', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.verbose = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Verbose', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.debug = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Debug', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.information = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Information', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.warning = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Warning', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.fatal = function (msg, error) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Fatal', msg, error); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.log = function (obj) {\r\n            setTimeout(function() { sendManualPayload(settings.apiKey, settings.logId, confirmResponse, 'Log', null, obj); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n        };\r\n        publicAPIs.message = function(error) {\r\n            return sendPrefilledLogMessage(error);\r\n        };\r\n        publicAPIs.addBreadcrumb = function(msg, severity, evt) {\r\n            recordBreadcrumb({\r\n                \"severity\": (severity != undefined && isString(severity)) ? severity : \"Information\",\r\n                \"action\": (evt != undefined && isString(evt)) ? evt : \"Log\",\r\n                \"message\": (msg != undefined && isString(msg)) ? msg : \"This is just a test message.\"\r\n            });\r\n        };\r\n\r\n        publicAPIs.on = function (name, callback, ctx) {\r\n            var e = this.e || (this.e = {});\r\n\r\n            (e[name] || (e[name] = [])).push({\r\n                fn: callback,\r\n                ctx: ctx\r\n            });\r\n\r\n            return this;\r\n        };\r\n\r\n        publicAPIs.emit = function (name) {\r\n            var data = [].slice.call(arguments, 1);\r\n            var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\r\n            var i = 0;\r\n            var len = evtArr.length;\r\n\r\n            for (i; i < len; i++) {\r\n                evtArr[i].fn.apply(evtArr[i].ctx, data);\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        publicAPIs.init = function (options) {\r\n\r\n            // -- Merge options into defaults\r\n            settings = extend(defaults, options || {});\r\n\r\n            // -- Breadcrumbs\r\n            if (settings.breadcrumbs) {\r\n                // Breadcrumbs - Click & Submit form\r\n                if (document.addEventListener) {\r\n                    document.addEventListener('click', breadcrumbClickEventHandler, false);\r\n                    document.addEventListener('submit', breadcrumbFormSubmitEventHandler, false);\r\n                } else if (document.attachEvent) {\r\n                    document.attachEvent('click', breadcrumbClickEventHandler, false);\r\n                    document.attachEvent('submit', breadcrumbFormSubmitEventHandler, false);\r\n                }\r\n\r\n                // Breadcrumbs - Navigation\r\n                if (window.addEventListener) {\r\n                    window.addEventListener('load', breadcrumbWindowEventHandler, false);\r\n                    window.addEventListener('DOMContentLoaded', breadcrumbWindowEventHandler, false);\r\n                    window.addEventListener('pageshow', breadcrumbWindowEventHandler, false);\r\n                    window.addEventListener('pagehide', breadcrumbWindowEventHandler, false);\r\n                    window.addEventListener('hashchange', breadcrumbHashChangeEventHandler, false);\r\n                } else if (window.attachEvent) {\r\n                    window.attachEvent('load', breadcrumbWindowEventHandler, false);\r\n                    window.attachEvent('DOMContentLoaded', breadcrumbWindowEventHandler, false);\r\n                    window.attachEvent('pageshow', breadcrumbWindowEventHandler, false);\r\n                    window.attachEvent('pagehide', breadcrumbWindowEventHandler, false);\r\n                    window.attachEvent('hashchange', breadcrumbHashChangeEventHandler, false);\r\n                }\r\n\r\n                if(window.history && window.history.pushState && window.history.replaceState) {\r\n                    var old_onpopstate = window.onpopstate;\r\n                    window.onpopstate = function(evt) {\r\n                        breadcrumbWindowEventHandler(evt);\r\n                        if (old_onpopstate) {\r\n                            return old_onpopstate.apply(this, arguments);\r\n                        }\r\n                    };\r\n                }\r\n\r\n                // Breadcrumbs - XHR\r\n                if(window.XMLHttpRequest && window.XMLHttpRequest.prototype) {\r\n                    // Store a reference to the native method\r\n                    var open = XMLHttpRequest.prototype.open;\r\n                    \r\n                    // Overwrite the native method\r\n                    XMLHttpRequest.prototype.open = function(method, url) {\r\n                        // Assign an event listener\r\n                        this.addEventListener(\"loadend\", function(event) { breadcrumbXHRHandler(event, method, url); }, false);\r\n                        // Call the stored reference to the native method\r\n                        open.apply(this, arguments);\r\n                    };\r\n                }\r\n            }\r\n\r\n            // -- Log on window error\r\n            window.onerror = function (message, source, lineno, colno, error) {\r\n                var errorLog = {\r\n                    'message': message,\r\n                    'source': source,\r\n                    'lineno': lineno,\r\n                    'colno': colno,\r\n                    'error': error\r\n                };\r\n                \r\n                setTimeout(function() { sendPayload(settings.apiKey, settings.logId, confirmResponse, errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n\r\n                return false;\r\n            }\r\n\r\n            // -- Log on window unhandled rejection\r\n            window.onunhandledrejection = function (event) {\r\n                var errorLog = {\r\n                    'message': event.reason && event.reason.message ? event.reason.message : undefined,\r\n                    'error': event.reason && event.reason.message && event.reason.stack ? event.reason : undefined\r\n                };\r\n\r\n                setTimeout(function() { sendPayload(settings.apiKey, settings.logId, confirmResponse, errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n\r\n                return false;\r\n            }\r\n\r\n            // -- Overriding console methods\r\n            // -- Then log messages into the app.elmah.io\r\n            if(options && options.captureConsoleMinimumLevel !== \"none\") {\r\n\r\n                // If captureConsoleMinimumLevel: info or debug is set (error, warn)\r\n                if(options.captureConsoleMinimumLevel === \"info\" || options.captureConsoleMinimumLevel === \"warn\" || options.captureConsoleMinimumLevel === \"error\" || options.captureConsoleMinimumLevel === \"debug\") {\r\n                    // Log console errors\r\n                    var _error = console.error;\r\n                    console.error = function(errMessage){\r\n                        var errorLog = {\r\n                    \t\t'message': errMessage,\r\n                    \t\t'arguments': arguments\r\n                    \t}\r\n                        setTimeout(function() { sendPayloadFromConsole(settings.apiKey, settings.logId, confirmResponse, 'Error', errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n                        _error.apply(console, arguments);\r\n                    };\r\n                    if(options.captureConsoleMinimumLevel !== \"error\") {\r\n                        // Log console warnings\r\n                        var _warning = console.warn;\r\n                        console.warn = function(warnMessage){\r\n                            var errorLog = {\r\n                                'message': warnMessage,\r\n                                'arguments': arguments\r\n                            }\r\n                            setTimeout(function() { sendPayloadFromConsole(settings.apiKey, settings.logId, confirmResponse, 'Warning', errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n                            _warning.apply(console, arguments);\r\n                        };\r\n                    }\r\n                }\r\n                if(options.captureConsoleMinimumLevel === \"info\" || options.captureConsoleMinimumLevel === \"debug\") {\r\n                    // Log console info\r\n                    var _info = console.info;\r\n                    console.info = function(infoMessage){\r\n                        var errorLog = {\r\n                    \t\t'message': infoMessage,\r\n                    \t\t'arguments': arguments\r\n                    \t}\r\n                        setTimeout(function() { sendPayloadFromConsole(settings.apiKey, settings.logId, confirmResponse, 'Information', errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n                        _info.apply(console, arguments);\r\n                    };\r\n                }\r\n                if(options.captureConsoleMinimumLevel === \"debug\") {\r\n                    // Log console debug\r\n                    var _debug = console.debug;\r\n                    console.debug = function(debugMessage){\r\n                        var errorLog = {\r\n                    \t\t'message': debugMessage,\r\n                    \t\t'arguments': arguments\r\n                    \t}\r\n                        setTimeout(function() { sendPayloadFromConsole(settings.apiKey, settings.logId, confirmResponse, 'Debug', errorLog); }, settings.breadcrumbs ? breadcrumbsDelay : 0);\r\n                        _debug.apply(console, arguments);\r\n                    };\r\n                }\r\n            }\r\n        };\r\n\r\n        // Initialize the plugin\r\n        publicAPIs.init(options);\r\n\r\n        if (settings.debug) {\r\n            console.log('%c' + debugSettings.label, debugSettings.labelCSS);\r\n        }\r\n\r\n        // Return the public APIs\r\n        return publicAPIs;\r\n\r\n    };\r\n\r\n\r\n    //\r\n    // Return the constructor\r\n    //\r\n\r\n    if (paramsLength && params.hasOwnProperty('apiKey') && params.hasOwnProperty('logId')) {\r\n        // Immediately-Invoked Function Expression (IIFE)\r\n        return new Constructor;\r\n    } else {\r\n        // UMD Constructor\r\n        return Constructor;\r\n    }\r\n\r\n});"],"file":"elmahio.min.js"}